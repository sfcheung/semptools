<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quick Start To set_sem_layout • semptools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Quick Start To set_sem_layout">
<meta property="og:description" content="semptools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">semptools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.9.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/semptools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/keep_or_drop_nodes.html">Keep or Drop Selected Variables</a>
    </li>
    <li>
      <a href="../articles/layout_matrix.html">Layout Matrices</a>
    </li>
    <li>
      <a href="../articles/quick_start_cfa.html">Quick Start To set_cfa_layout</a>
    </li>
    <li>
      <a href="../articles/quick_start_sem.html">Quick Start To set_sem_layout</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sfcheung/semptools/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="quick_start_sem_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Quick Start To set_sem_layout</h1>
                        <h4 class="author">Shu Fai Cheung &amp; Mark Hok Chio Lai</h4>
            
            <h4 class="date">2021-09-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/semptools/blob/master/vignettes/quick_start_sem.Rmd"><code>vignettes/quick_start_sem.Rmd</code></a></small>
      <div class="hidden name"><code>quick_start_sem.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The <code>semptools</code> package contains functions that <em>post-process</em> an output from <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPlot::semPaths()</a></code>, to help users to customize the appearance of the graphs generated by <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPlot::semPaths()</a></code>. For the introduction to functions for doing very specific tasks, such as moving the parameter estimate of a path or rotating the residual of a variable, please refer to <code><a href="../articles/semptools.html">vignette("semptools")</a></code>. The present guide focuses on how to use <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> to configure various aspects of a <code>semPaths</code> graph generated for a typical structural equation model (SEM) with latent factors. For configuring the layout of a confirmatory factor analysis (CFA) model with no structural path between factors, please refer to the <code><a href="../articles/quick_start_cfa.html">vignette("quick_start_cfa")</a></code>.</p>
</div>
<div id="the-initial-sempaths-graph" class="section level1">
<h1 class="hasAnchor">
<a href="#the-initial-sempaths-graph" class="anchor"></a>The Initial <code>semPaths</code> Graph</h1>
<p>Let us consider an SEM model. We will use <code>sem_example</code>, a sample CFA dataset from semptools with 14 variables for illustration.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">semptools</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">sem_example</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;      x01    x02    x03    x04    x05    x06    x07    x08    x09    x10   x11</span>
<span class="co">#&gt; 1  2.861  2.289  3.381  0.191  0.095 -0.395 -0.060  1.320  2.807  2.330 2.069</span>
<span class="co">#&gt; 2 -0.246 -1.299 -0.371  2.232 -0.419 -0.565 -0.162  3.050  1.513  1.777 2.991</span>
<span class="co">#&gt; 3  0.079  0.067  0.323 -3.043 -1.093 -0.626 -1.961 -4.908 -2.048 -3.190 1.403</span>
<span class="co">#&gt;     x12    x13   x14</span>
<span class="co">#&gt; 1 0.569 -0.808 1.989</span>
<span class="co">#&gt; 2 2.125  0.767 1.539</span>
<span class="co">#&gt; 3 1.888  1.356 1.107</span></code></pre></div>
<p>This is the SEM model to be fitted:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mod</span> <span class="op">&lt;-</span> 
  <span class="st">'f1 =~ x01 + x02 + x03
   f2 =~ x04 + x05 + x06 + x07
   f3 =~ x08 + x09 + x10
   f4 =~ x11 + x12 + x13 + x14
   f3 ~  f1 + f2
   f4 ~  f1 + f3
  '</span></code></pre></div>
<p>Fitting the model using <code><a href="https://rdrr.io/pkg/lavaan/man/sem.html">lavaan::sem()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be">lavaan</a></span><span class="op">)</span>
<span class="co">#&gt; This is lavaan 0.6-9</span>
<span class="co">#&gt; lavaan is FREE software! Please report any bugs.</span>
<span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html">sem</a></span><span class="op">(</span><span class="va">mod</span>, <span class="va">cfa_example</span><span class="op">)</span></code></pre></div>
<p>This is the plot from <code>semPaths</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot">semPlot</a></span><span class="op">)</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPaths</a></span><span class="op">(</span><span class="va">fit</span>, whatLabels<span class="op">=</span><span class="st">"est"</span>,
        sizeMan <span class="op">=</span> <span class="fl">5</span>,
        node.width <span class="op">=</span> <span class="fl">1</span>,
        edge.label.cex <span class="op">=</span> <span class="fl">.75</span>,
        style <span class="op">=</span> <span class="st">"ram"</span>,
        mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-5-1.png" width="768" style="display: block; margin: auto;"></p>
<p>We will see how <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> can be used to do the following tasks to <em>post-process</em> the graph:</p>
<ul>
<li><p>Change the order of the indicators.</p></li>
<li><p>Assign factors to indicators manually.</p></li>
<li><p>Specify how to set the approximate positions of the factors.</p></li>
<li><p>Specify how to place the indicators of a factor.</p></li>
<li><p>Adjust the placement of the indicators relative to their corresponding factors.</p></li>
<li><p>Move the loadings along the paths from factors to indicators.</p></li>
</ul>
</div>
<div id="assign-indicators-to-factors" class="section level1">
<h1 class="hasAnchor">
<a href="#assign-indicators-to-factors" class="anchor"></a>Assign Indicators to Factors</h1>
<p>This section describes how to set the order of the indicators, assign them to factors, and specify the approximate positions of the factors.</p>
<p>Suppose we want to do this:</p>
<ul>
<li>
<p>We would like to assign the indicators to the factors this way:</p>
<ul>
<li><p><code>x04</code>, <code>x05</code>, <code>x06</code>, and <code>x07</code> for <code>f2</code>.</p></li>
<li><p><code>x01</code>, <code>x02</code>, and <code>x03</code> for <code>f1</code>.</p></li>
<li><p><code>x11</code>, <code>x12</code>, <code>x13</code>, and <code>x14</code> for <code>f4</code>.</p></li>
<li><p><code>x08</code>, <code>x09</code>, and <code>x10</code> for <code>f3</code>.</p></li>
</ul>
</li>
</ul>
<p>To do this, we create two vectors, one for the argument <code>indicator_order</code> and the other for the argument <code>indicator_factor</code>.</p>
<ul>
<li>
<code>indicator_order</code> is a string vector with length equal to the number of indicators, with the desired order if the indicators are placed <em>above</em> the corresponding factors. In this example, it will be like this:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">indicator_order</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"x04"</span>, <span class="st">"x05"</span>, <span class="st">"x06"</span>, <span class="st">"x07"</span>, 
                      <span class="st">"x01"</span>, <span class="st">"x02"</span>, <span class="st">"x03"</span>, 
                      <span class="st">"x11"</span>, <span class="st">"x12"</span>, <span class="st">"x13"</span>, <span class="st">"x14"</span>,
                      <span class="st">"x08"</span>, <span class="st">"x09"</span>, <span class="st">"x10"</span><span class="op">)</span></code></pre></div>
<ul>
<li>
<code>indicator_factor</code> is a string vector with length equal to the number of indicators. The elements are the names of the latent factors, denoting which factor each indicator will be assigned to:</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">indicator_factor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span> <span class="st">"f2"</span>,  <span class="st">"f2"</span>,  <span class="st">"f2"</span>,  <span class="st">"f2"</span>,  
                       <span class="st">"f1"</span>,  <span class="st">"f1"</span>,  <span class="st">"f1"</span>,  
                       <span class="st">"f4"</span>,  <span class="st">"f4"</span>,  <span class="st">"f4"</span>,  <span class="st">"f4"</span>,  
                       <span class="st">"f3"</span>,  <span class="st">"f3"</span>,  <span class="st">"f3"</span><span class="op">)</span></code></pre></div>
<p>To specify the locations of the factors, we need two more arguments, <code>factor_layout</code> and <code>factor_point_to</code>.</p>
<p><code>factor_layout</code> is a matrix of arbitrary size, with either <code>NA</code> or the name of a factor. For example:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">factor_layout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"f1"</span>,   <span class="cn">NA</span>,   <span class="cn">NA</span>,
                           <span class="cn">NA</span>, <span class="st">"f3"</span>, <span class="st">"f4"</span>,
                         <span class="st">"f2"</span>,   <span class="cn">NA</span>,   <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<p>This sets up a 3-by-3 grid, with <code>f1</code> on the top left, <code>f2</code> on the bottom left, <code>f3</code> in the center, and <code>f4</code> on the right of <code>f3</code>. Each factor must be in one and only one cell of this matrix.</p>
<p>Note that a column or row can contain only <code>NA</code>, to increase the vertical or horizontal distance between factors.</p>
<p>The helper function <code><a href="../reference/layout_matrix.html">layout_matrix()</a></code> can also be used to create the matrix to be used in <code>factor_layout</code> (see <code><a href="../articles/layout_matrix.html">vignette("layout_matrix")</a></code> on how to use <code><a href="../reference/layout_matrix.html">layout_matrix()</a></code>):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">factor_layout</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/layout_matrix.html">layout_matrix</a></span><span class="op">(</span>f1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,
                               f2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span>,
                               f3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,
                               f4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="va">factor_layout</span>
<span class="co">#&gt;      [,1] [,2] [,3]</span>
<span class="co">#&gt; [1,] "f1" NA   NA  </span>
<span class="co">#&gt; [2,] NA   "f3" "f4"</span>
<span class="co">#&gt; [3,] "f2" NA   NA</span></code></pre></div>
<p><code>factor_point_to</code> is a matrix of the size as <code>factor_layout</code>, with either <code>NA</code> or one of these: “down”, “left”, “up”, or “right”, to indicate the direction that a factor “points to” its indicator. For example:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">factor_point_to</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"left"</span>,     <span class="cn">NA</span>,      <span class="cn">NA</span>,
                                <span class="cn">NA</span>, <span class="st">"down"</span>, <span class="st">"down"</span>,
                            <span class="st">"left"</span>,     <span class="cn">NA</span>,      <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span></code></pre></div>
<p><code>f1</code> and <code>f2</code> will point to the left (i.e., indicators on the left), <code>f3</code> and <code>f4</code> will point downwards.</p>
<p><code><a href="../reference/layout_matrix.html">layout_matrix()</a></code> can also be used to create this matrix:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">factor_point_to</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/layout_matrix.html">layout_matrix</a></span><span class="op">(</span>left <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,
                                 left <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span>,
                                 down <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,
                                 down <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="va">factor_point_to</span>
<span class="co">#&gt;      [,1]   [,2]   [,3]  </span>
<span class="co">#&gt; [1,] "left" NA     NA    </span>
<span class="co">#&gt; [2,] NA     "down" "down"</span>
<span class="co">#&gt; [3,] "left" NA     NA</span></code></pre></div>
<p>In sum, the <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> function needs at least these arguments:</p>
<ul>
<li><p><code>semPaths_plot</code>: The <code>semPaths</code> plot.</p></li>
<li><p><code>indicator_order</code>: The vector for the order of indicators.</p></li>
<li><p><code>indicator_factor</code>: The vector for assigning indicators to latent factors.</p></li>
<li><p><code>factor_layout</code>: The position of the factors on a grid.</p></li>
<li><p><code>factor_point_to</code>: The placement of the indicators.</p></li>
</ul>
<p>They do not have to be named if they are in this order.</p>
<p>We now use <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> to post-process the graph:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span><span class="op">(</span><span class="va">p</span>, 
                     indicator_order <span class="op">=</span> <span class="va">indicator_order</span>,
                     indicator_factor <span class="op">=</span> <span class="va">indicator_factor</span>,
                     factor_layout <span class="op">=</span> <span class="va">factor_layout</span>,
                     factor_point_to <span class="op">=</span> <span class="va">factor_point_to</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></code></pre></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-12-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="move-indicators" class="section level1">
<h1 class="hasAnchor">
<a href="#move-indicators" class="anchor"></a>Move Indicators</h1>
<p>The placement of the indicators are too close to the indicators and to neighboring indicators. We can adjust the relative position in two ways.</p>
<div id="push-the-indicators-away" class="section level2">
<h2 class="hasAnchor">
<a href="#push-the-indicators-away" class="anchor"></a>“Push” the indicators away</h2>
<p>We can use the argument <code>indicator_push</code> to push the indicators of a factor away from it. The argument needs a named vector. The name is the factor of which the indictors will be “pushed”, and the value is how “hard” the push is: the multiplier to the distance from the factor to the indicators. For example:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">indicator_push</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>f3 <span class="op">=</span> <span class="fl">2</span>,
                    f4 <span class="op">=</span> <span class="fl">1.5</span>,
                    f1 <span class="op">=</span> <span class="fl">1.5</span>,
                    f2 <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></code></pre></div>
<p>This vector will double the distance between the indicators of <code>f3</code> and their factors, and multiply the distance between the indicators of <code>f4</code>, <code>f1</code>, and <code>f2</code> and their factors by 1.5. If <code>push</code> is less than 1, the indicators will be “pulled” towards their factors.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span><span class="op">(</span><span class="va">p</span>, 
                     indicator_order <span class="op">=</span> <span class="va">indicator_order</span>,
                     indicator_factor <span class="op">=</span> <span class="va">indicator_factor</span>,
                     factor_layout <span class="op">=</span> <span class="va">factor_layout</span>,
                     factor_point_to <span class="op">=</span> <span class="va">factor_point_to</span>,
                     indicator_push <span class="op">=</span> <span class="va">indicator_push</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></code></pre></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-14-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="spread-out-the-indicators" class="section level2">
<h2 class="hasAnchor">
<a href="#spread-out-the-indicators" class="anchor"></a>“Spread” out the indicators</h2>
<p>We can use the argument <code>indicator_spread</code> to spread out the indicators of a factor, increasing the distance between the indicators. The argument needs a named vector. The name is the factor of which the indicators will be spread out. The value is the multiplier to the distance between neighboring indicators. For example:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">indicator_spread</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>f1 <span class="op">=</span> <span class="fl">2</span>,
                      f2 <span class="op">=</span> <span class="fl">1.5</span>,
                      f4 <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></code></pre></div>
<p>This vector will double the distance between the indicators of <code>f1</code>, and multiply the distance between the indicators of <code>f2</code> and <code>f4</code>. and its indicators by 1.5. If <code>spread</code> is less than 1, the indicators will be squeezed towards each others.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span><span class="op">(</span><span class="va">p</span>, 
                     indicator_order <span class="op">=</span> <span class="va">indicator_order</span>,
                     indicator_factor <span class="op">=</span> <span class="va">indicator_factor</span>,
                     factor_layout <span class="op">=</span> <span class="va">factor_layout</span>,
                     factor_point_to <span class="op">=</span> <span class="va">factor_point_to</span>,
                     indicator_push <span class="op">=</span> <span class="va">indicator_push</span>,
                     indicator_spread <span class="op">=</span> <span class="va">indicator_spread</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></code></pre></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-16-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="move-the-loadings" class="section level1">
<h1 class="hasAnchor">
<a href="#move-the-loadings" class="anchor"></a>Move the Loadings</h1>
<p>We can move the loadings of indicators along the paths by the argument <code>loading_position</code>. If we supply one single number, from 0 to 1, this number will be used for the position of all loadings. A value of .5 place the loadings on the middle of the paths. Larger the value, closer the loadings to the indicators. Smaller the value, closer the loadings to the factors.</p>
<p>We can also use a named vector to specify the positions of indicators for each factor.In each element, the name if the factor whose loadings will be moved. The value is the positions of its loadings. The default is .50. We only need to specify the positions for factors to be changed from .50 to other values. For example:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">loading_position</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>f2 <span class="op">=</span> <span class="fl">.7</span>,
                      f3 <span class="op">=</span> <span class="fl">.8</span>,
                      f4 <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span><span class="op">(</span><span class="va">p</span>, 
                     indicator_order <span class="op">=</span> <span class="va">indicator_order</span>,
                     indicator_factor <span class="op">=</span> <span class="va">indicator_factor</span>,
                     factor_layout <span class="op">=</span> <span class="va">factor_layout</span>,
                     factor_point_to <span class="op">=</span> <span class="va">factor_point_to</span>,
                     indicator_push <span class="op">=</span> <span class="va">indicator_push</span>,
                     indicator_spread <span class="op">=</span> <span class="va">indicator_spread</span>,
                     loading_position <span class="op">=</span> <span class="va">loading_position</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></code></pre></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-18-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="pipe" class="section level1">
<h1 class="hasAnchor">
<a href="#pipe" class="anchor"></a>Pipe</h1>
<p>Like other functions in <code>semptools</code>, the <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> function can be chained with other functions using the pipe operator, <code>%&gt;%</code>, from the package <code>magrittr</code>, or the native pipe operator <code>|&gt;</code> available since R 4.1.x. Suppose we want to mark the significant test results for the free parameters using <code><a href="../reference/mark_sig.html">mark_sig()</a></code>, and use <code><a href="../reference/set_curve.html">set_curve()</a></code> to change the curvature of <code>f1 ~~ f2</code> covariances and <code>f4 ~ f1</code> paths (we push and spread some indicators to make room for the asterisks, and change the orientation of <code>f4</code> to <code>up</code>):</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># If R version &gt;= 4.1.0</span>
<span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span><span class="op">(</span><span class="va">p</span>, 
                    indicator_order <span class="op">=</span> <span class="va">indicator_order</span>,
                    indicator_factor <span class="op">=</span> <span class="va">indicator_factor</span>,
                    factor_layout <span class="op">=</span> <span class="va">factor_layout</span>,
                    factor_point_to <span class="op">=</span> <span class="va">factor_point_to</span>,
                    indicator_push <span class="op">=</span> <span class="va">indicator_push</span>,
                    indicator_spread <span class="op">=</span> <span class="va">indicator_spread</span>,
                    loading_position <span class="op">=</span> <span class="va">loading_position</span><span class="op">)</span> |&gt;
                    <span class="fu"><a href="../reference/set_curve.html">set_curve</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"f2 ~~ f1"</span> <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,
                                <span class="st">"f4 ~ f1"</span> <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span> |&gt;
                    <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></code></pre></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-20-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="limitations" class="section level1">
<h1 class="hasAnchor">
<a href="#limitations" class="anchor"></a>Limitations</h1>
<ul>
<li>Currently, if a function needs the SEM output, only lavaan output is supported.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Shu Fai Cheung, Mark Hok Chio Lai.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
