<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A Quick Start Guide on Using semptools • semptools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Cabin-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Cousine-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A Quick Start Guide on Using semptools">
<meta name="google-site-verification" content="0VLBmFnW_UJFI-7gXnORPBsWxqZwmzuGpK-TeVRLBjQ">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">semptools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/semptools.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>&lt;Quick Starts&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/semptools.html">Main functions</a></li>
    <li><a class="dropdown-item" href="../articles/quick_start_cfa.html">Setting the layout of a CFA model</a></li>
    <li><a class="dropdown-item" href="../articles/quick_start_sem.html">Setting the layout of a SEM model</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Helpers&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/keep_or_drop_nodes.html">Keep or drop variables</a></li>
    <li><a class="dropdown-item" href="../articles/layout_matrix.html">Layout matrices</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>&lt;Special Cases&gt;</h6></li>
    <li><a class="dropdown-item" href="../articles/second_order.html">Second-order factors</a></li>
    <li><a class="dropdown-item" href="../articles/sem_with_observed.html">Observed exogenous variables</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sfcheung/semptools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A Quick Start Guide on Using semptools</h1>
                        <h4 data-toc-skip class="author">Shu Fai Cheung
&amp; Mark Hok Chio Lai</h4>
            
            <h4 data-toc-skip class="date">2025-07-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/semptools/blob/master/vignettes/semptools.Rmd" class="external-link"><code>vignettes/semptools.Rmd</code></a></small>
      <div class="d-none name"><code>semptools.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The package <a href="https://sfcheung.github.io/semptools/">semptools</a> (<a href="https://cran.r-project.org/package=semptools" class="external-link">CRAN page</a>)
contains functions that <em>post-process</em> an output from
<code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>, to help users to customize the
appearance of the graphs generated by
<code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>.</p>
<p>The following sections were written to be self-contained, with some
elements repeated, such that each of them can be read individually.</p>
</div>
<div class="section level2">
<h2 id="mark-all-parameter-estimates-by-asterisks-based-on-p-value-mark_sig">Mark all parameter estimates by asterisks based on p-Value:
<code>mark_sig</code><a class="anchor" aria-label="anchor" href="#mark-all-parameter-estimates-by-asterisks-based-on-p-value-mark_sig"></a>
</h2>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; This is lavaan 0.6-19</span></span>
<span><span class="co">#&gt; lavaan is FREE software! Please report any bugs.</span></span>
<span><span class="va">mod_pa</span> <span class="op">&lt;-</span></span>
<span> <span class="st">'x1 ~~ x2</span></span>
<span><span class="st">  x3 ~  x1 + x2</span></span>
<span><span class="st">  x4 ~  x1 + x3</span></span>
<span><span class="st"> '</span></span>
<span><span class="va">fit_pa</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod_pa</span>, <span class="va">pa_example</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit_pa</span><span class="op">)</span></span>
<span><span class="co">#&gt;   lhs op rhs   est    se     z pvalue ci.lower ci.upper</span></span>
<span><span class="co">#&gt; 1  x1 ~~  x2 0.005 0.097 0.054  0.957   -0.186    0.196</span></span>
<span><span class="co">#&gt; 2  x3  ~  x1 0.537 0.097 5.551  0.000    0.348    0.727</span></span>
<span><span class="co">#&gt; 3  x3  ~  x2 0.376 0.093 4.050  0.000    0.194    0.557</span></span>
<span><span class="co">#&gt; 4  x4  ~  x1 0.111 0.127 0.875  0.382   -0.138    0.361</span></span>
<span><span class="co">#&gt; 5  x4  ~  x3 0.629 0.108 5.801  0.000    0.416    0.841</span></span>
<span><span class="co">#&gt; 6  x3 ~~  x3 0.874 0.124 7.071  0.000    0.632    1.117</span></span>
<span><span class="co">#&gt; 7  x4 ~~  x4 1.194 0.169 7.071  0.000    0.863    1.525</span></span>
<span><span class="co">#&gt; 8  x1 ~~  x1 0.933 0.132 7.071  0.000    0.674    1.192</span></span>
<span><span class="co">#&gt; 9  x2 ~~  x2 1.017 0.144 7.071  0.000    0.735    1.298</span></span></code></pre></div>
<p>This is the plot from <code>semPaths</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot" class="external-link">semPlot</a></span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>,</span>
<span>                <span class="cn">NA</span>, <span class="st">"x3"</span>,  <span class="cn">NA</span>, <span class="st">"x4"</span>,</span>
<span>              <span class="st">"x2"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">p_pa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPaths</a></span><span class="op">(</span><span class="va">fit_pa</span>, whatLabels <span class="op">=</span> <span class="st">"est"</span>,</span>
<span>           sizeMan <span class="op">=</span> <span class="fl">10</span>,</span>
<span>           edge.label.cex <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>           style <span class="op">=</span> <span class="st">"ram"</span>,</span>
<span>           nCharNodes <span class="op">=</span> <span class="fl">0</span>, nCharEdges <span class="op">=</span> <span class="fl">0</span>,</span>
<span>           layout <span class="op">=</span> <span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-2-1.png" width="576" style="display: block; margin: auto;"></p>
<p>We know from the <code><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan::lavaan()</a></code> output that some paths
are significant and some are not. In some disciplines, asterisks are
conventionally added indicate this. However,
<code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code> does not do this. We can use
<code><a href="../reference/mark_sig.html">mark_sig()</a></code> to add asterisks based on the p-values of the
free parameters.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/semptools/">semptools</a></span><span class="op">)</span></span>
<span><span class="va">p_pa2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span><span class="op">(</span><span class="va">p_pa</span>, <span class="va">fit_pa</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa2</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-3-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The first argument, <code>semPaths_plot</code>, is the output from
<code>semPaths::semPlot()</code>. The second argument,
<code>object</code>, is the <code><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan::lavaan()</a></code> output used to
generate the plot. This output is needed to extract the
<em>p</em>-values.</p>
<p>The default labels follow the common convention: “*” for <em>p</em>
less than .05, “**” for <em>p</em> less than .01, and “***” for p less
than .001. This can be changed by the argument <code>alpha</code> (this
must be named as the it is not the second argument). E.g.:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_pa3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span><span class="op">(</span><span class="va">p_pa</span>, <span class="va">fit_pa</span>, alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(n.s.)"</span> <span class="op">=</span> <span class="fl">1.00</span>, <span class="st">"*"</span> <span class="op">=</span> <span class="fl">.01</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa3</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-4-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="add-standard-error-estimates-to-parameter-estimates-mark_se">Add standard error estimates to parameter estimates:
<code>mark_se</code><a class="anchor" aria-label="anchor" href="#add-standard-error-estimates-to-parameter-estimates-mark_se"></a>
</h2>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="va">mod_pa</span> <span class="op">&lt;-</span></span>
<span>  <span class="st">'x1 ~~ x2</span></span>
<span><span class="st">   x3 ~  x1 + x2</span></span>
<span><span class="st">   x4 ~  x1 + x3</span></span>
<span><span class="st">  '</span></span>
<span><span class="va">fit_pa</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod_pa</span>, <span class="va">pa_example</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html" class="external-link">parameterEstimates</a></span><span class="op">(</span><span class="va">fit_pa</span><span class="op">)</span></span>
<span><span class="co">#&gt;   lhs op rhs   est    se     z pvalue ci.lower ci.upper</span></span>
<span><span class="co">#&gt; 1  x1 ~~  x2 0.005 0.097 0.054  0.957   -0.186    0.196</span></span>
<span><span class="co">#&gt; 2  x3  ~  x1 0.537 0.097 5.551  0.000    0.348    0.727</span></span>
<span><span class="co">#&gt; 3  x3  ~  x2 0.376 0.093 4.050  0.000    0.194    0.557</span></span>
<span><span class="co">#&gt; 4  x4  ~  x1 0.111 0.127 0.875  0.382   -0.138    0.361</span></span>
<span><span class="co">#&gt; 5  x4  ~  x3 0.629 0.108 5.801  0.000    0.416    0.841</span></span>
<span><span class="co">#&gt; 6  x3 ~~  x3 0.874 0.124 7.071  0.000    0.632    1.117</span></span>
<span><span class="co">#&gt; 7  x4 ~~  x4 1.194 0.169 7.071  0.000    0.863    1.525</span></span>
<span><span class="co">#&gt; 8  x1 ~~  x1 0.933 0.132 7.071  0.000    0.674    1.192</span></span>
<span><span class="co">#&gt; 9  x2 ~~  x2 1.017 0.144 7.071  0.000    0.735    1.298</span></span></code></pre></div>
<p>This is the plot from <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot" class="external-link">semPlot</a></span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>,</span>
<span>                <span class="cn">NA</span>, <span class="st">"x3"</span>,  <span class="cn">NA</span>, <span class="st">"x4"</span>,</span>
<span>              <span class="st">"x2"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">p_pa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPaths</a></span><span class="op">(</span><span class="va">fit_pa</span>, whatLabels <span class="op">=</span> <span class="st">"est"</span>,</span>
<span>           sizeMan <span class="op">=</span> <span class="fl">10</span>,</span>
<span>           edge.label.cex <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>           style <span class="op">=</span> <span class="st">"ram"</span>,</span>
<span>           nCharNodes <span class="op">=</span> <span class="fl">0</span>, nCharEdges <span class="op">=</span> <span class="fl">0</span>,</span>
<span>           layout <span class="op">=</span> <span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-6-1.png" width="576" style="display: block; margin: auto;"></p>
<p>We can use <code><a href="../reference/mark_se.html">mark_se()</a></code> to add the standard errors for the
parameter estimates:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/semptools/">semptools</a></span><span class="op">)</span></span>
<span><span class="va">p_pa2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mark_se.html">mark_se</a></span><span class="op">(</span><span class="va">p_pa</span>, <span class="va">fit_pa</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa2</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-7-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The first argument, <code>semPaths_plot</code>, is the output from
<code>semPaths::semPlot()</code>. The second argument,
<code>object</code>, is the <code><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan::lavaan()</a></code> output used to
generate the plot. This output is needed to extra the standard
errors.</p>
<p>By default, the standard errors are enclosed by parentheses and
appended to the parameter estimates, separated by one space. The
argument <code>sep</code> can be used to use another separator. For
example, if <code>"\n"</code> is used, the standard errors will be
displayed below the corresponding parameter estimates.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_pa2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mark_se.html">mark_se</a></span><span class="op">(</span><span class="va">p_pa</span>, <span class="va">fit_pa</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa2</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-8-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="rotate-the-residuals-of-selected-variables-rotate_resid">Rotate the residuals of selected variables:
<code>rotate_resid</code><a class="anchor" aria-label="anchor" href="#rotate-the-residuals-of-selected-variables-rotate_resid"></a>
</h2>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="va">mod_pa</span> <span class="op">&lt;-</span></span>
<span> <span class="st">'x1 ~~ x2</span></span>
<span><span class="st">  x3 ~  x1 + x2</span></span>
<span><span class="st">  x4 ~  x1 + x3</span></span>
<span><span class="st"> '</span></span>
<span><span class="va">fit_pa</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod_pa</span>, <span class="va">pa_example</span><span class="op">)</span></span></code></pre></div>
<p>This is the plot from <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot" class="external-link">semPlot</a></span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>,</span>
<span>                <span class="cn">NA</span>, <span class="st">"x3"</span>,  <span class="cn">NA</span>, <span class="st">"x4"</span>,</span>
<span>              <span class="st">"x2"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">p_pa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPaths</a></span><span class="op">(</span><span class="va">fit_pa</span>, whatLabels <span class="op">=</span> <span class="st">"est"</span>,</span>
<span>           sizeMan <span class="op">=</span> <span class="fl">10</span>,</span>
<span>           edge.label.cex <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>           style <span class="op">=</span> <span class="st">"ram"</span>,</span>
<span>           nCharNodes <span class="op">=</span> <span class="fl">0</span>, nCharEdges <span class="op">=</span> <span class="fl">0</span>,</span>
<span>           layout <span class="op">=</span> <span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-10-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Suppose we want to rotate the residuals of some variables to improve
readability.</p>
<ul>
<li><p>For <code>x3</code>, we want to place the residual to top-right
corner.</p></li>
<li><p>For <code>x4</code>, we want to place the residual to the
top-left corner.</p></li>
<li><p>For <code>x2</code>, we want to place the residual to the
left.</p></li>
</ul>
<p>We first need to decide the angle of placement, in degrees.</p>
<p>Top is 0 degree. Clockwise position is positive, and anticlockwise
position is negative.</p>
<p>Therefore, top-right is 45, top-left is -45, and left is -90.</p>
<p>We then use <code><a href="../reference/rotate_resid.html">rotate_resid()</a></code> to post-process the
<code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code> output. The first argument,
<code>semPaths_plot</code>, is the <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>
output. The second argument, <code>rotate_resid_list</code>, is the
vector to specify how the residuals should be rotated. The name is the
node for which the residual will be rotated, and the value is the degree
of rotation. For example, to achieve the results described above, the
vector is <code>c(x3 = 45, x4 = -45, x2 = -90)</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/semptools/">semptools</a></span><span class="op">)</span></span>
<span><span class="va">my_rotate_resid_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x3 <span class="op">=</span>  <span class="fl">45</span>,</span>
<span>                          x4 <span class="op">=</span> <span class="op">-</span><span class="fl">45</span>,</span>
<span>                          x2 <span class="op">=</span> <span class="op">-</span><span class="fl">90</span><span class="op">)</span></span>
<span><span class="va">p_pa3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rotate_resid.html">rotate_resid</a></span><span class="op">(</span><span class="va">p_pa</span>, <span class="va">my_rotate_resid_list</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa3</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-11-1.png" width="576" style="display: block; margin: auto;"></p>
<p>(Note: This function accepts named vectors since version 0.2.8. Lists
of named list are still supported but not suggested. Please see
<code><a href="../reference/rotate_resid.html">?rotate_resid</a></code> on how to use lists of named list.)</p>
</div>
<div class="section level2">
<h2 id="set-the-curve-attributes-of-selected-arrows-set_curve">Set the curve attributes of selected arrows:
<code>set_curve</code><a class="anchor" aria-label="anchor" href="#set-the-curve-attributes-of-selected-arrows-set_curve"></a>
</h2>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="va">mod_pa</span> <span class="op">&lt;-</span></span>
<span> <span class="st">'x1 ~~ x2</span></span>
<span><span class="st">  x3 ~  x1 + x2</span></span>
<span><span class="st">  x4 ~  x1 + x3</span></span>
<span><span class="st"> '</span></span>
<span><span class="va">fit_pa</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod_pa</span>, <span class="va">pa_example</span><span class="op">)</span></span></code></pre></div>
<p>This is the plot from <code>semPaths</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot" class="external-link">semPlot</a></span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>,</span>
<span>                <span class="cn">NA</span>, <span class="st">"x3"</span>,  <span class="cn">NA</span>, <span class="st">"x4"</span>,</span>
<span>              <span class="st">"x2"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">p_pa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPaths</a></span><span class="op">(</span><span class="va">fit_pa</span>, whatLabels <span class="op">=</span> <span class="st">"est"</span>,</span>
<span>           sizeMan <span class="op">=</span> <span class="fl">10</span>,</span>
<span>           edge.label.cex <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>           style <span class="op">=</span> <span class="st">"ram"</span>,</span>
<span>           nCharNodes <span class="op">=</span> <span class="fl">0</span>, nCharEdges <span class="op">=</span> <span class="fl">0</span>,</span>
<span>           layout <span class="op">=</span> <span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-13-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Suppose we want to change the curvature of these two arrows
(<code>edges</code>):</p>
<ul>
<li><p>Have the <code>x1 ~~ x2</code> covariance curved “away” from the
center.</p></li>
<li><p>Have the <code>x4 ~ x1</code> path curved upward.</p></li>
</ul>
<p>We then use <code><a href="../reference/set_curve.html">set_curve()</a></code> to post-process the
<code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code> output. The first argument,
<code>semPaths_plot</code>, is the <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>
output. The second argument, <code>curve_list</code>, is the list to
specify the new curvature of the selected arrows.</p>
<p>The “name” of each element is of the same form as
<code>lhs-op-rhs</code> as in <code><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan::lavaan()</a></code> model
syntax. In <code>lavaan</code>, <code>y ~ x</code> denotes an arrow from
<code>x</code> to <code>y</code>. Therefore, if we want to change the
curvature of the path <em>from</em> <code>x</code> <em>to</em>
<code>y</code> to -3, then the element is <code>"y ~ x" = -3</code>.
Note that whether <code>~</code> or <code>~~</code> is used does not
matter.</p>
<p>To achieve the changes described above, we can use
<code>c("x2 ~~ x1" = -3, "x4  ~ x1" = 2)</code>, as shown below:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_curve_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x2 ~~ x1"</span> <span class="op">=</span> <span class="op">-</span><span class="fl">3</span>,</span>
<span>                   <span class="st">"x4  ~ x1"</span> <span class="op">=</span>  <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">p_pa3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_curve.html">set_curve</a></span><span class="op">(</span><span class="va">p_pa</span>, <span class="va">my_curve_list</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa3</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-14-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Note that the meaning of the value depends on which variable is in
the <code>from</code> field and which variable is in the <code>to</code>
field. Therefore, <code>"x2 ~~ x1" = -3</code> and
<code>"x1 ~~ x2" = -3</code> are two different changes. If we treat the
<code>from</code> variable as the back and the <code>to</code> variable
as the front, then a <em>positive</em> number bends the line to
<em>left</em>, and a <em>negative</em> number bends the line to the
<em>right</em>.</p>
<p>It is not easy to decide what the value should be used to set the
curve. Trial and error is needed for complicated models. The
<code>curve</code> attributes of the corresponding arrows of the
<code>qgraph</code> object will be updated.</p>
<p>(Note: This function accepts named vectors since version 0.2.8. Lists
of named list are still supported but not suggested. Please see
<code><a href="../reference/set_curve.html">?set_curve</a></code> on how to use lists of named list.)</p>
</div>
<div class="section level2">
<h2 id="set-the-positions-of-parameters-of-selected-arrows-set_edge_label_position">Set the positions of parameters of selected arrows:
<code>set_edge_label_position</code><a class="anchor" aria-label="anchor" href="#set-the-positions-of-parameters-of-selected-arrows-set_edge_label_position"></a>
</h2>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="va">mod_pa</span> <span class="op">&lt;-</span></span>
<span> <span class="st">'x1 ~~ x2</span></span>
<span><span class="st">  x3 ~  x1 + x2</span></span>
<span><span class="st">  x4 ~  x1 + x3</span></span>
<span><span class="st"> '</span></span>
<span><span class="va">fit_pa</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod_pa</span>, <span class="va">pa_example</span><span class="op">)</span></span></code></pre></div>
<p>This is the plot from <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot" class="external-link">semPlot</a></span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>,</span>
<span>                <span class="cn">NA</span>, <span class="st">"x3"</span>,  <span class="cn">NA</span>, <span class="st">"x4"</span>,</span>
<span>              <span class="st">"x2"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">p_pa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPaths</a></span><span class="op">(</span><span class="va">fit_pa</span>, whatLabels <span class="op">=</span> <span class="st">"est"</span>,</span>
<span>           sizeMan <span class="op">=</span> <span class="fl">10</span>,</span>
<span>           edge.label.cex <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>           style <span class="op">=</span> <span class="st">"ram"</span>,</span>
<span>           nCharNodes <span class="op">=</span> <span class="fl">0</span>, nCharEdges <span class="op">=</span> <span class="fl">0</span>,</span>
<span>           layout <span class="op">=</span> <span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-16-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Suppose we want to move the parameter estimates this way:</p>
<ul>
<li><p>For the <code>x4 ~ x1</code> path, move the parameter estimates
closer to <code>x4</code>.</p></li>
<li><p>For the <code>x3 ~ x1</code> path, move the parameter estimates
closer to <code>x1</code>.</p></li>
<li><p>For the <code>x3 ~ x2</code> path, move the parameter estimates
closer to <code>x2</code>.</p></li>
</ul>
<p>We can use <code><a href="../reference/set_edge_label_position.html">set_edge_label_position()</a></code> to post-process the
<code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths</a></code> output. The first argument,
<code>semPaths_plot</code>, is the <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>
output. The second argument, <code>position_list</code>, is the list to
specify the new position of the selected arrows.</p>
<p>We can use a named vector to specify the changes. The “name” of each
element is of the same form as <code>lhs-op-rhs</code> as in
<code><a href="https://rdrr.io/pkg/lavaan/man/lavaan.html" class="external-link">lavaan::lavaan()</a></code> model syntax. In <code>lavaan</code>,
<code>y ~ x</code> denotes an arrow from <code>x</code> to
<code>y</code>. Therefore, if we want to change the curvature of the
path <em>from</em> <code>x</code> <em>to</em> <code>y</code> to -3, then
the element is <code>"y ~ x" = -3</code>. Note that whether
<code>~</code> or <code>~~</code> is used does not matter.</p>
<p>Therefore, the changes described above can be specified by
<code>c("x2 ~~ x1" = -3, "x4  ~ x1" = 2)</code>, as shown below:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/semptools/">semptools</a></span><span class="op">)</span></span>
<span><span class="va">my_position_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x3 ~ x1"</span> <span class="op">=</span> <span class="fl">.25</span>,</span>
<span>                      <span class="st">"x3 ~ x2"</span> <span class="op">=</span> <span class="fl">.25</span>,</span>
<span>                      <span class="st">"x4 ~ x1"</span> <span class="op">=</span> <span class="fl">.75</span><span class="op">)</span></span>
<span><span class="va">p_pa3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/set_edge_label_position.html">set_edge_label_position</a></span><span class="op">(</span><span class="va">p_pa</span>, <span class="va">my_position_list</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa3</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-17-1.png" width="576" style="display: block; margin: auto;"></p>
<p>(Note: This function accept named vectors since version 0.2.8. Lists
of named list are still supported but not suggested. Please see
<code><a href="../reference/set_edge_label_position.html">?set_edge_label_position</a></code> on how to use lists of named
list.)</p>
</div>
<div class="section level2">
<h2 id="change-one-or-more-node-labels-change_node_label">Change one or more node labels: <code>change_node_label</code><a class="anchor" aria-label="anchor" href="#change-one-or-more-node-labels-change_node_label"></a>
</h2>
<p><code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code> supports changing the labels of
nodes when generating a plot through the argument
<code>nodeLabels</code>. However, if we want to use functions such as
<code><a href="../reference/mark_sig.html">mark_sig()</a></code> or <code><a href="../reference/mark_se.html">mark_se()</a></code>, which require
information from the original results from the original
<code>lavaan</code> output, then we cannot use <code>nodeLabels</code>
because these functions do not (yet) know how to map a user-defined
label to the variables in the <code>lavaan</code> output.</p>
<p>One solution is to use <code>semptools</code> functions to process
the <code>qgraph</code> generated by <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code>,
and change the node labels in <em>last step</em> to create the final
plot. This can be done by <code><a href="../reference/change_node_label.html">change_node_label()</a></code>.</p>
<p>Let us consider a simple path analysis model in which we use
<code>marg_sig()</code> to add asterisks to denote significant
parameters:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot" class="external-link">semPlot</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sfcheung.github.io/semptools/">semptools</a></span><span class="op">)</span></span>
<span><span class="va">mod_pa</span> <span class="op">&lt;-</span></span>
<span> <span class="st">'x1 ~~ x2</span></span>
<span><span class="st">  x3 ~  x1 + x2</span></span>
<span><span class="st">  x4 ~  x1 + x3</span></span>
<span><span class="st"> '</span></span>
<span><span class="va">fit_pa</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod_pa</span>, <span class="va">pa_example</span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>,</span>
<span>                <span class="cn">NA</span>, <span class="st">"x3"</span>,  <span class="cn">NA</span>, <span class="st">"x4"</span>,</span>
<span>              <span class="st">"x2"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">p_pa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPaths</a></span><span class="op">(</span><span class="va">fit_pa</span>, whatLabels <span class="op">=</span> <span class="st">"est"</span>,</span>
<span>           sizeMan <span class="op">=</span> <span class="fl">10</span>,</span>
<span>           edge.label.cex <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>           style <span class="op">=</span> <span class="st">"ram"</span>,</span>
<span>           nCharNodes <span class="op">=</span> <span class="fl">0</span>, nCharEdges <span class="op">=</span> <span class="fl">0</span>,</span>
<span>           layout <span class="op">=</span> <span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-18-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_pa2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span><span class="op">(</span><span class="va">p_pa</span>, <span class="va">fit_pa</span>, alpha <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(n.s.)"</span> <span class="op">=</span> <span class="fl">1.00</span>, <span class="st">"*"</span> <span class="op">=</span> <span class="fl">.01</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa2</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-18-2.png" width="576" style="display: block; margin: auto;"></p>
<p>Suppose we want change <code>x1</code>, <code>x2</code>,
<code>x3</code>, and <code>x4</code> to <code>Attitude</code>,
<code>SbjNorm</code>, <code>Intention</code>, and <code>Behavior</code>,
we process the graph, <code>p_pa2</code> above, by
<code><a href="../reference/change_node_label.html">change_node_label()</a></code> as below:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p_pa3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/change_node_label.html">change_node_label</a></span><span class="op">(</span><span class="va">p_pa2</span>,</span>
<span>                           <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x1 <span class="op">=</span> <span class="st">"Attitude"</span>,</span>
<span>                             x2 <span class="op">=</span> <span class="st">"SbjNorm"</span>,</span>
<span>                             x3 <span class="op">=</span> <span class="st">"Intention"</span>,</span>
<span>                             x4 <span class="op">=</span> <span class="st">"Behavior"</span><span class="op">)</span>,</span>
<span>                           label.cex <span class="op">=</span> <span class="fl">1.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa3</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-19-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The second argument can be a named vector or a named list. The name
of each element is the original label (e.g., <code>x1</code> in this
example), and the value is the new label (e.g., <code>"Attitude"</code>
for <code>x1</code>). Only the labels of named nodes will be
changed.</p>
<p>Note that usually we also set the <code>label.cex</code> argument,
which is identical to the same argument in
<code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths()</a></code> because the new labels might not fit
the nodes.</p>
</div>
<div class="section level2">
<h2 id="using-pipe-operator">Using pipe-operator<a class="anchor" aria-label="anchor" href="#using-pipe-operator"></a>
</h2>
<p>All the functions support the <code>%&gt;%</code> operator from
<code>magrittr</code> or the native pipe operator <code>|&gt;</code>
available since R 4.1.x. Therefore, we can chain the
post-processing.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="va">mod_pa</span> <span class="op">&lt;-</span></span>
<span> <span class="st">'x1 ~~ x2</span></span>
<span><span class="st">  x3 ~  x1 + x2</span></span>
<span><span class="st">  x4 ~  x1 + x3</span></span>
<span><span class="st"> '</span></span>
<span><span class="va">fit_pa</span> <span class="op">&lt;-</span> <span class="fu">lavaan</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html" class="external-link">sem</a></span><span class="op">(</span><span class="va">mod_pa</span>, <span class="va">pa_example</span><span class="op">)</span></span></code></pre></div>
<p>This is the initial plot:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot" class="external-link">semPlot</a></span><span class="op">)</span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span>,</span>
<span>                <span class="cn">NA</span>, <span class="st">"x3"</span>,  <span class="cn">NA</span>, <span class="st">"x4"</span>,</span>
<span>              <span class="st">"x2"</span>,   <span class="cn">NA</span>,  <span class="cn">NA</span>,   <span class="cn">NA</span><span class="op">)</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">p_pa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPaths</a></span><span class="op">(</span><span class="va">fit_pa</span>, whatLabels <span class="op">=</span> <span class="st">"est"</span>,</span>
<span>           sizeMan <span class="op">=</span> <span class="fl">10</span>,</span>
<span>           edge.label.cex <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>           style <span class="op">=</span> <span class="st">"ram"</span>,</span>
<span>           nCharNodes <span class="op">=</span> <span class="fl">0</span>, nCharEdges <span class="op">=</span> <span class="fl">0</span>,</span>
<span>           layout <span class="op">=</span> <span class="va">m</span><span class="op">)</span></span></code></pre></div>
<p><img src="semptools_files/figure-html/unnamed-chunk-21-1.png" width="576" style="display: block; margin: auto;"></p>
<p>We will do this:</p>
<ul>
<li><p>Change the curvature of <code>x1 ~~ x2</code></p></li>
<li><p>Rotate the residuals of <code>x1</code>, <code>x2</code>,
<code>x3</code>, and <code>x4</code>,</p></li>
<li><p>Add asterisks to denote significant test results</p></li>
<li><p>Add standard errors</p></li>
<li><p>Move the parameter estimate of the <code>x4 ~ x1</code> path
closer to <code>x4</code>.</p></li>
</ul>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_position_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x4 ~ x1"</span> <span class="op">=</span> <span class="fl">.75</span><span class="op">)</span></span>
<span><span class="va">my_curve_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x2 ~ x1"</span> <span class="op">=</span> <span class="op">-</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">my_rotate_resid_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>x1 <span class="op">=</span> <span class="fl">0</span>, x2 <span class="op">=</span> <span class="fl">180</span>, x3 <span class="op">=</span> <span class="fl">140</span>, x4 <span class="op">=</span> <span class="fl">140</span><span class="op">)</span></span>
<span><span class="va">my_position_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x4 ~ x1"</span> <span class="op">=</span> <span class="fl">.65</span><span class="op">)</span></span>
<span><span class="co"># If R version 4.1.0 or above</span></span>
<span><span class="va">p_pa3</span> <span class="op">&lt;-</span> <span class="va">p_pa</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/set_curve.html">set_curve</a></span><span class="op">(</span><span class="va">my_curve_list</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="../reference/rotate_resid.html">rotate_resid</a></span><span class="op">(</span><span class="va">my_rotate_resid_list</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span><span class="op">(</span><span class="va">fit_pa</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="../reference/mark_se.html">mark_se</a></span><span class="op">(</span><span class="va">fit_pa</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>                  <span class="fu"><a href="../reference/set_edge_label_position.html">set_edge_label_position</a></span><span class="op">(</span><span class="va">my_position_list</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p_pa3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Loading required package: magrittr</span></span></code></pre>
<p><img src="semptools_files/figure-html/unnamed-chunk-23-1.png" width="576" style="display: block; margin: auto;"></p>
<p>For most of the functions, the necessary argument beside the
<code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html" class="external-link">semPlot::semPaths</a></code> output, if any, is the second element.
Therefore, they can be included as unnamed arguments. For the third and
other optional arguments, such as <code>sep</code> for
<code><a href="../reference/mark_se.html">mark_se()</a></code>, it is better to name them.</p>
</div>
<div class="section level2">
<h2 id="limitations">Limitations<a class="anchor" aria-label="anchor" href="#limitations"></a>
</h2>
<ul>
<li>Currently, if a function needs the SEM output, only
<code>lavaan</code> output is supported.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shu Fai Cheung, Mark Hok Chio Lai.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
