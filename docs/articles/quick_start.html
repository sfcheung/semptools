<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A quick start guide on using semptools • semptools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A quick start guide on using semptools">
<meta property="og:description" content="semptools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">semptools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/quick_start.html">A quick start guide on using semptools</a>
    </li>
    <li>
      <a href="../articles/quick_start_cfa.html">A quick start guide on using set_cfa_layout</a>
    </li>
    <li>
      <a href="../articles/quick_start_sem.html">A quick start guide on using set_sem_layout</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A quick start guide on using semptools</h1>
                        <h4 class="author">Shu Fai Cheung &amp; Mark Hok Chio Lai</h4>
            
            <h4 class="date">2020-04-23</h4>
      
      
      <div class="hidden name"><code>quick_start.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This package contains functions that <em>post-process</em> an output from <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPlot::semPaths</a></code>, to help users to customize the appearance of the graphs generated by <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPlot::semPaths</a></code>.</p>
<p>The following sections were written to be self-contained, with some elements repeated, such that each of them can be read individually.</p>
</div>
<div id="mark-all-parameter-estimates-by-asterisks-based-on-p-value-mark_sig" class="section level1">
<h1 class="hasAnchor">
<a href="#mark-all-parameter-estimates-by-asterisks-based-on-p-value-mark_sig" class="anchor"></a>Mark all parameter estimates by asterisks based on p-Value: <code>mark_sig</code>
</h1>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lavaan</span>)
<span class="co">#&gt; This is lavaan 0.6-5</span>
<span class="co">#&gt; lavaan is BETA software! Please report any bugs.</span>
<span class="no">mod_pa</span> <span class="kw">&lt;-</span>
 <span class="st">'x1 ~~ x2
  x3 ~  x1 + x2
  x4 ~  x1 + x3
 '</span>
<span class="no">fit_pa</span> <span class="kw">&lt;-</span> <span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html">sem</a></span>(<span class="no">mod_pa</span>, <span class="no">pa_example</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">fit_pa</span>)
<span class="co">#&gt; lavaan 0.6-5 ended normally after 14 iterations</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Estimator                                         ML</span>
<span class="co">#&gt;   Optimization method                           NLMINB</span>
<span class="co">#&gt;   Number of free parameters                          9</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Number of observations                           100</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt; Model Test User Model:</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Test statistic                                19.649</span>
<span class="co">#&gt;   Degrees of freedom                                 1</span>
<span class="co">#&gt;   P-value (Chi-square)                           0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter Estimates:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Information                                 Expected</span>
<span class="co">#&gt;   Information saturated (h1) model          Structured</span>
<span class="co">#&gt;   Standard errors                             Standard</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Regressions:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x3 ~                                                </span>
<span class="co">#&gt;     x1                0.537    0.097    5.551    0.000</span>
<span class="co">#&gt;     x2                0.376    0.093    4.050    0.000</span>
<span class="co">#&gt;   x4 ~                                                </span>
<span class="co">#&gt;     x1                0.111    0.127    0.875    0.382</span>
<span class="co">#&gt;     x3                0.629    0.108    5.801    0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Covariances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x1 ~~                                               </span>
<span class="co">#&gt;     x2                0.005    0.097    0.054    0.957</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Variances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;    .x3                0.874    0.124    7.071    0.000</span>
<span class="co">#&gt;    .x4                1.194    0.169    7.071    0.000</span>
<span class="co">#&gt;     x1                0.933    0.132    7.071    0.000</span>
<span class="co">#&gt;     x2                1.017    0.144    7.071    0.000</span></pre></body></html></div>
<p>This is the plot from <code>semPaths</code>.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semPlot</span>)
<span class="co">#&gt; Registered S3 methods overwritten by 'huge':</span>
<span class="co">#&gt;   method    from   </span>
<span class="co">#&gt;   plot.sim  BDgraph</span>
<span class="co">#&gt;   print.sim BDgraph</span>
<span class="no">m</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x1"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>,
                <span class="fl">NA</span>, <span class="st">"x3"</span>,  <span class="fl">NA</span>, <span class="st">"x4"</span>,
              <span class="st">"x2"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span>)
<span class="no">p_pa</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPaths</a></span>(<span class="no">fit_pa</span>, <span class="kw">whatLabels</span> <span class="kw">=</span> <span class="st">"est"</span>,
           <span class="kw">sizeMan</span> <span class="kw">=</span> <span class="fl">10</span>,
           <span class="kw">edge.label.cex</span> <span class="kw">=</span> <span class="fl">1.15</span>,
           <span class="kw">style</span> <span class="kw">=</span> <span class="st">"ram"</span>,
           <span class="kw">nCharNodes</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">nCharEdges</span> <span class="kw">=</span> <span class="fl">0</span>,
           <span class="kw">layout</span> <span class="kw">=</span> <span class="no">m</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-2-1.png" width="576" style="display: block; margin: auto;"></p>
<p>We know from the <code>lavaan</code> output that some paths are significant and some are not. In some disciplines, asterisks are conventionally added indicate this. However, <code>sempPaths</code> does not do this. We can use <code>mark_sig</code> to add asterisks based on the p-values of the free parameters.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semptools</span>)
<span class="no">p_pa2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span>(<span class="no">p_pa</span>, <span class="no">fit_pa</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa2</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-3-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The first argument, <code>semPaths_plot</code>, is the output from <code>semPaths::semPlot</code>. The second argument, <code>object</code>, is the <code>lavaan</code> output used to generate the plot. This output is needed to extract the <em>p</em>-values.</p>
<p>The default labels follow the common convention: “*” for <em>p</em> less than .05, “**” for <em>p</em> less than .01, and “***” for p less than .001. This can be changed by the argument <code>alpha</code> (this must be named as the it is not the second argument). E.g.:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">p_pa3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span>(<span class="no">p_pa</span>, <span class="no">fit_pa</span>, <span class="kw">alpha</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"(n.s.)"</span> <span class="kw">=</span> <span class="fl">1.00</span>, <span class="st">"*"</span> <span class="kw">=</span> <span class="fl">.01</span>))
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa3</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-4-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="add-standard-error-estimates-to-parameter-estimates-mark_se" class="section level1">
<h1 class="hasAnchor">
<a href="#add-standard-error-estimates-to-parameter-estimates-mark_se" class="anchor"></a>Add standard error estimates to parameter estimates: <code>mark_se</code>
</h1>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lavaan</span>)
<span class="no">mod_pa</span> <span class="kw">&lt;-</span>
  <span class="st">'x1 ~~ x2
   x3 ~  x1 + x2
   x4 ~  x1 + x3
  '</span>
<span class="no">fit_pa</span> <span class="kw">&lt;-</span> <span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html">sem</a></span>(<span class="no">mod_pa</span>, <span class="no">pa_example</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">fit_pa</span>)
<span class="co">#&gt; lavaan 0.6-5 ended normally after 14 iterations</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Estimator                                         ML</span>
<span class="co">#&gt;   Optimization method                           NLMINB</span>
<span class="co">#&gt;   Number of free parameters                          9</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Number of observations                           100</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt; Model Test User Model:</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Test statistic                                19.649</span>
<span class="co">#&gt;   Degrees of freedom                                 1</span>
<span class="co">#&gt;   P-value (Chi-square)                           0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter Estimates:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Information                                 Expected</span>
<span class="co">#&gt;   Information saturated (h1) model          Structured</span>
<span class="co">#&gt;   Standard errors                             Standard</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Regressions:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x3 ~                                                </span>
<span class="co">#&gt;     x1                0.537    0.097    5.551    0.000</span>
<span class="co">#&gt;     x2                0.376    0.093    4.050    0.000</span>
<span class="co">#&gt;   x4 ~                                                </span>
<span class="co">#&gt;     x1                0.111    0.127    0.875    0.382</span>
<span class="co">#&gt;     x3                0.629    0.108    5.801    0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Covariances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x1 ~~                                               </span>
<span class="co">#&gt;     x2                0.005    0.097    0.054    0.957</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Variances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;    .x3                0.874    0.124    7.071    0.000</span>
<span class="co">#&gt;    .x4                1.194    0.169    7.071    0.000</span>
<span class="co">#&gt;     x1                0.933    0.132    7.071    0.000</span>
<span class="co">#&gt;     x2                1.017    0.144    7.071    0.000</span></pre></body></html></div>
<p>This is the plot from <code>semPaths</code>.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semPlot</span>)
<span class="no">m</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x1"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>,
                <span class="fl">NA</span>, <span class="st">"x3"</span>,  <span class="fl">NA</span>, <span class="st">"x4"</span>,
              <span class="st">"x2"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span>)
<span class="no">p_pa</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPaths</a></span>(<span class="no">fit_pa</span>, <span class="kw">whatLabels</span> <span class="kw">=</span> <span class="st">"est"</span>,
           <span class="kw">sizeMan</span> <span class="kw">=</span> <span class="fl">10</span>,
           <span class="kw">edge.label.cex</span> <span class="kw">=</span> <span class="fl">1.15</span>,
           <span class="kw">style</span> <span class="kw">=</span> <span class="st">"ram"</span>,
           <span class="kw">nCharNodes</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">nCharEdges</span> <span class="kw">=</span> <span class="fl">0</span>,
           <span class="kw">layout</span> <span class="kw">=</span> <span class="no">m</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-6-1.png" width="576" style="display: block; margin: auto;"></p>
<p>We can use <code>mark_se</code> to add the standard errors for the parameter estimates:</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semptools</span>)
<span class="no">p_pa2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/mark_se.html">mark_se</a></span>(<span class="no">p_pa</span>, <span class="no">fit_pa</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa2</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-7-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The first argument, <code>semPaths_plot</code>, is the output from <code>semPaths::semPlot</code>. The second argument, <code>object</code>, is the <code>lavaan</code> output used to generate the plot. This output is needed to extra the standard errors.</p>
<p>By default, the standard errors are enclosed by parentheses and appended to the parameter estimates, separated by one space. The argument <code>sep</code> can be used to use another separator. For example, if <code>"\n"</code> is used, the standard errors will be displayed below the corresponding parameter estimates.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">p_pa2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/mark_se.html">mark_se</a></span>(<span class="no">p_pa</span>, <span class="no">fit_pa</span>, <span class="kw">sep</span> <span class="kw">=</span> <span class="st">"\n"</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa2</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-8-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="rotate-the-residuals-of-selected-variables-rotate_resid" class="section level1">
<h1 class="hasAnchor">
<a href="#rotate-the-residuals-of-selected-variables-rotate_resid" class="anchor"></a>Rotate the residuals of selected variables: <code>rotate_resid</code>
</h1>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lavaan</span>)
<span class="no">mod_pa</span> <span class="kw">&lt;-</span>
 <span class="st">'x1 ~~ x2
  x3 ~  x1 + x2
  x4 ~  x1 + x3
 '</span>
<span class="no">fit_pa</span> <span class="kw">&lt;-</span> <span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html">sem</a></span>(<span class="no">mod_pa</span>, <span class="no">pa_example</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">fit_pa</span>)
<span class="co">#&gt; lavaan 0.6-5 ended normally after 14 iterations</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Estimator                                         ML</span>
<span class="co">#&gt;   Optimization method                           NLMINB</span>
<span class="co">#&gt;   Number of free parameters                          9</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Number of observations                           100</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt; Model Test User Model:</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Test statistic                                19.649</span>
<span class="co">#&gt;   Degrees of freedom                                 1</span>
<span class="co">#&gt;   P-value (Chi-square)                           0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter Estimates:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Information                                 Expected</span>
<span class="co">#&gt;   Information saturated (h1) model          Structured</span>
<span class="co">#&gt;   Standard errors                             Standard</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Regressions:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x3 ~                                                </span>
<span class="co">#&gt;     x1                0.537    0.097    5.551    0.000</span>
<span class="co">#&gt;     x2                0.376    0.093    4.050    0.000</span>
<span class="co">#&gt;   x4 ~                                                </span>
<span class="co">#&gt;     x1                0.111    0.127    0.875    0.382</span>
<span class="co">#&gt;     x3                0.629    0.108    5.801    0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Covariances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x1 ~~                                               </span>
<span class="co">#&gt;     x2                0.005    0.097    0.054    0.957</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Variances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;    .x3                0.874    0.124    7.071    0.000</span>
<span class="co">#&gt;    .x4                1.194    0.169    7.071    0.000</span>
<span class="co">#&gt;     x1                0.933    0.132    7.071    0.000</span>
<span class="co">#&gt;     x2                1.017    0.144    7.071    0.000</span></pre></body></html></div>
<p>This is the plot from <code>semPaths</code>.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semPlot</span>)
<span class="no">m</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x1"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>,
                <span class="fl">NA</span>, <span class="st">"x3"</span>,  <span class="fl">NA</span>, <span class="st">"x4"</span>,
              <span class="st">"x2"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span>)
<span class="no">p_pa</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPaths</a></span>(<span class="no">fit_pa</span>, <span class="kw">whatLabels</span> <span class="kw">=</span> <span class="st">"est"</span>,
           <span class="kw">sizeMan</span> <span class="kw">=</span> <span class="fl">10</span>,
           <span class="kw">edge.label.cex</span> <span class="kw">=</span> <span class="fl">1.15</span>,
           <span class="kw">style</span> <span class="kw">=</span> <span class="st">"ram"</span>,
           <span class="kw">nCharNodes</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">nCharEdges</span> <span class="kw">=</span> <span class="fl">0</span>,
           <span class="kw">layout</span> <span class="kw">=</span> <span class="no">m</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-10-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Suppose we want to rotate the residuals of some variables to improve readability.</p>
<ul>
<li><p>For <code>x3</code>, we want to place the residual to top-right corner.</p></li>
<li><p>For <code>x4</code>, we want to place the residual to the top-left corner.</p></li>
<li><p>For <code>x2</code>, we want to place the residual to the left.</p></li>
</ul>
<p>We first need to decide the angle of placement, in degrees.</p>
<p>Top is 0 degree. Clockwise position is positive, and counterclockwise position is negative.</p>
<p>Therefore, top-right is 45, top-left is -45, and left is -90.</p>
<p>We create a <code>list</code> of <code>lists</code>. In each sublist, there are two elements: <code>node</code> denotes that variable (<code>node</code>) name, and <code>rotate</code> is the degree of the position.</p>
<p>We then use <code>rotate_resid</code> to post-process the <code>semPaths</code> output. The first argument, <code>semPaths_plot</code>, is the <code>semPaths</code> output. The second argument, <code>rotate_resid_list</code>, is the list to specify how the residuals should be rotated.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semptools</span>)
<span class="no">my_rotate_resid_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"x3"</span>, <span class="kw">rotate</span> <span class="kw">=</span>  <span class="fl">45</span>),
                             <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"x4"</span>, <span class="kw">rotate</span> <span class="kw">=</span> -<span class="fl">45</span>),
                             <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"x2"</span>, <span class="kw">rotate</span> <span class="kw">=</span> -<span class="fl">90</span>))

<span class="no">p_pa2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/rotate_resid.html">rotate_resid</a></span>(<span class="no">p_pa</span>, <span class="no">my_rotate_resid_list</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa2</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-11-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="set-the-curve-attributes-of-selected-arrows-set_curve" class="section level1">
<h1 class="hasAnchor">
<a href="#set-the-curve-attributes-of-selected-arrows-set_curve" class="anchor"></a>Set the curve attributes of selected arrows: <code>set_curve</code>
</h1>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lavaan</span>)
<span class="no">mod_pa</span> <span class="kw">&lt;-</span>
 <span class="st">'x1 ~~ x2
  x3 ~  x1 + x2
  x4 ~  x1 + x3
 '</span>
<span class="no">fit_pa</span> <span class="kw">&lt;-</span> <span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html">sem</a></span>(<span class="no">mod_pa</span>, <span class="no">pa_example</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">fit_pa</span>)
<span class="co">#&gt; lavaan 0.6-5 ended normally after 14 iterations</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Estimator                                         ML</span>
<span class="co">#&gt;   Optimization method                           NLMINB</span>
<span class="co">#&gt;   Number of free parameters                          9</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Number of observations                           100</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt; Model Test User Model:</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Test statistic                                19.649</span>
<span class="co">#&gt;   Degrees of freedom                                 1</span>
<span class="co">#&gt;   P-value (Chi-square)                           0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter Estimates:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Information                                 Expected</span>
<span class="co">#&gt;   Information saturated (h1) model          Structured</span>
<span class="co">#&gt;   Standard errors                             Standard</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Regressions:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x3 ~                                                </span>
<span class="co">#&gt;     x1                0.537    0.097    5.551    0.000</span>
<span class="co">#&gt;     x2                0.376    0.093    4.050    0.000</span>
<span class="co">#&gt;   x4 ~                                                </span>
<span class="co">#&gt;     x1                0.111    0.127    0.875    0.382</span>
<span class="co">#&gt;     x3                0.629    0.108    5.801    0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Covariances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x1 ~~                                               </span>
<span class="co">#&gt;     x2                0.005    0.097    0.054    0.957</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Variances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;    .x3                0.874    0.124    7.071    0.000</span>
<span class="co">#&gt;    .x4                1.194    0.169    7.071    0.000</span>
<span class="co">#&gt;     x1                0.933    0.132    7.071    0.000</span>
<span class="co">#&gt;     x2                1.017    0.144    7.071    0.000</span></pre></body></html></div>
<p>This is the plot from <code>semPaths</code>.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semPlot</span>)
<span class="no">m</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x1"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>,
                <span class="fl">NA</span>, <span class="st">"x3"</span>,  <span class="fl">NA</span>, <span class="st">"x4"</span>,
              <span class="st">"x2"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span>)
<span class="no">p_pa</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPaths</a></span>(<span class="no">fit_pa</span>, <span class="kw">whatLabels</span> <span class="kw">=</span> <span class="st">"est"</span>,
           <span class="kw">sizeMan</span> <span class="kw">=</span> <span class="fl">10</span>,
           <span class="kw">edge.label.cex</span> <span class="kw">=</span> <span class="fl">1.15</span>,
           <span class="kw">style</span> <span class="kw">=</span> <span class="st">"ram"</span>,
           <span class="kw">nCharNodes</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">nCharEdges</span> <span class="kw">=</span> <span class="fl">0</span>,
           <span class="kw">layout</span> <span class="kw">=</span> <span class="no">m</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-13-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Suppose we want to change the curvature of these two arrows (<code>edges</code>):</p>
<ul>
<li><p>Have the <code>x1 ~~ x2</code> covariance curved “away” from the center.</p></li>
<li><p>Have the <code>x4 ~ x1</code> path curved upward.</p></li>
</ul>
<p>We create a <code>list</code> of <code>lists</code>. In each sublist, there are three elements: <code>from</code> denotes the left hand side of the arrow, <code>to</code> denotes the right hand side of the arrow, and <code>new_curve</code> denote the new curvature for this arrow. The <code>from</code> and <code>to</code> will be based on the <code>lavaan</code> parameter tables, which can be found by <code><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html">lavaan::parameterEstimates</a></code>:</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html">parameterEstimates</a></span>(<span class="no">fit_pa</span>)
<span class="co">#&gt;   lhs op rhs   est    se     z pvalue ci.lower ci.upper</span>
<span class="co">#&gt; 1  x1 ~~  x2 0.005 0.097 0.054  0.957   -0.186    0.196</span>
<span class="co">#&gt; 2  x3  ~  x1 0.537 0.097 5.551  0.000    0.348    0.727</span>
<span class="co">#&gt; 3  x3  ~  x2 0.376 0.093 4.050  0.000    0.194    0.557</span>
<span class="co">#&gt; 4  x4  ~  x1 0.111 0.127 0.875  0.382   -0.138    0.361</span>
<span class="co">#&gt; 5  x4  ~  x3 0.629 0.108 5.801  0.000    0.416    0.841</span>
<span class="co">#&gt; 6  x3 ~~  x3 0.874 0.124 7.071  0.000    0.632    1.117</span>
<span class="co">#&gt; 7  x4 ~~  x4 1.194 0.169 7.071  0.000    0.863    1.525</span>
<span class="co">#&gt; 8  x1 ~~  x1 0.933 0.132 7.071  0.000    0.674    1.192</span>
<span class="co">#&gt; 9  x2 ~~  x2 1.017 0.144 7.071  0.000    0.735    1.298</span></pre></body></html></div>
<p>We can see that the double-headed arrow for <code>x1</code> and <code>x2</code> has <code>x1</code> on the left hand side and <code>x2</code> on the right hand side. Therefore, <code>from</code> should be set to <code>x1</code> and <code>to</code> should be set to <code>x2</code>.</p>
<p>It is not easy to decide what the value should be used. Trial and error is needed for complicated model. The <code>curve</code> attributes of the corresponding arrows of the <code>qgraph</code> object will be updated.</p>
<p>We then use <code>set_curve</code> to post-process the <code>semPaths</code> output. The first argument, <code>semPaths_plot</code>, is the <code>semPaths</code> output. The second argument, <code>curve_list</code>, is the list to specify the new curvature of the selected arrows.</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semptools</span>)
<span class="no">my_curve_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x2"</span>, <span class="kw">new_curve</span> <span class="kw">=</span> -<span class="fl">1</span>),
                    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x4"</span>, <span class="kw">new_curve</span> <span class="kw">=</span>  <span class="fl">1</span>))
<span class="no">p_pa2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/set_curve.html">set_curve</a></span>(<span class="no">p_pa</span>, <span class="no">my_curve_list</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa2</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-15-1.png" width="576" style="display: block; margin: auto;"></p>
<p>This example shows how curvature of the two arrows are affected by other values:</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="no">my_curve_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x2"</span>, <span class="kw">new_curve</span> <span class="kw">=</span> -<span class="fl">3</span>),
                    <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x4"</span>, <span class="kw">new_curve</span> <span class="kw">=</span>  <span class="fl">2</span>))
<span class="no">p_pa2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/set_curve.html">set_curve</a></span>(<span class="no">p_pa</span>, <span class="no">my_curve_list</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa2</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-16-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="set-the-positions-of-parameters-of-selected-arrows-set_edge_label_position" class="section level1">
<h1 class="hasAnchor">
<a href="#set-the-positions-of-parameters-of-selected-arrows-set_edge_label_position" class="anchor"></a>Set the positions of parameters of selected arrows: <code>set_edge_label_position</code>
</h1>
<p>Let us consider a simple path analysis model:</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lavaan</span>)
<span class="no">mod_pa</span> <span class="kw">&lt;-</span>
 <span class="st">'x1 ~~ x2
  x3 ~  x1 + x2
  x4 ~  x1 + x3
 '</span>
<span class="no">fit_pa</span> <span class="kw">&lt;-</span> <span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html">sem</a></span>(<span class="no">mod_pa</span>, <span class="no">pa_example</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">fit_pa</span>)
<span class="co">#&gt; lavaan 0.6-5 ended normally after 14 iterations</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Estimator                                         ML</span>
<span class="co">#&gt;   Optimization method                           NLMINB</span>
<span class="co">#&gt;   Number of free parameters                          9</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Number of observations                           100</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt; Model Test User Model:</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Test statistic                                19.649</span>
<span class="co">#&gt;   Degrees of freedom                                 1</span>
<span class="co">#&gt;   P-value (Chi-square)                           0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter Estimates:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Information                                 Expected</span>
<span class="co">#&gt;   Information saturated (h1) model          Structured</span>
<span class="co">#&gt;   Standard errors                             Standard</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Regressions:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x3 ~                                                </span>
<span class="co">#&gt;     x1                0.537    0.097    5.551    0.000</span>
<span class="co">#&gt;     x2                0.376    0.093    4.050    0.000</span>
<span class="co">#&gt;   x4 ~                                                </span>
<span class="co">#&gt;     x1                0.111    0.127    0.875    0.382</span>
<span class="co">#&gt;     x3                0.629    0.108    5.801    0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Covariances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   x1 ~~                                               </span>
<span class="co">#&gt;     x2                0.005    0.097    0.054    0.957</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Variances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;    .x3                0.874    0.124    7.071    0.000</span>
<span class="co">#&gt;    .x4                1.194    0.169    7.071    0.000</span>
<span class="co">#&gt;     x1                0.933    0.132    7.071    0.000</span>
<span class="co">#&gt;     x2                1.017    0.144    7.071    0.000</span></pre></body></html></div>
<p>This is the plot from <code>semPaths</code>.</p>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semPlot</span>)
<span class="no">m</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x1"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>,
                <span class="fl">NA</span>, <span class="st">"x3"</span>,  <span class="fl">NA</span>, <span class="st">"x4"</span>,
              <span class="st">"x2"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span>)
<span class="no">p_pa</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPaths</a></span>(<span class="no">fit_pa</span>, <span class="kw">whatLabels</span> <span class="kw">=</span> <span class="st">"est"</span>,
           <span class="kw">sizeMan</span> <span class="kw">=</span> <span class="fl">10</span>,
           <span class="kw">edge.label.cex</span> <span class="kw">=</span> <span class="fl">1.15</span>,
           <span class="kw">style</span> <span class="kw">=</span> <span class="st">"ram"</span>,
           <span class="kw">nCharNodes</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">nCharEdges</span> <span class="kw">=</span> <span class="fl">0</span>,
           <span class="kw">layout</span> <span class="kw">=</span> <span class="no">m</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-18-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Suppose we want to move the parameter estimates this way:</p>
<ul>
<li><p>For the <code>x4 ~ x1</code> path, move the parameter estimates closer to <code>x4</code>.</p></li>
<li><p>For the <code>x3 ~ x1</code> path, move the parameter estimates closer to <code>x1</code>.</p></li>
<li><p>For the <code>x3 ~ x2</code> path, move the parameter estimates closer to <code>x2</code>.</p></li>
</ul>
<p>We create a <code>list</code> of <code>lists</code>. In each sublist, there are three elements: <code>from</code> denotes the left hand side of the arrow, <code>to</code> denotes the right hand side of the arrow, and <code>new_position</code> denote the new position of the parameter estimate. The mid point of the arrow is .50. Increasing this number moves the parameter estimate closer to the right hand side variable. Decreasing this number moves the parameter to the left hand side variable. The <code>from</code> and <code>to</code> will be based on the <code>lavaan</code> parameter tables, which can be found by <code><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html">lavaan::parameterEstimates</a></code>:</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/parameterEstimates.html">parameterEstimates</a></span>(<span class="no">fit_pa</span>)
<span class="co">#&gt;   lhs op rhs   est    se     z pvalue ci.lower ci.upper</span>
<span class="co">#&gt; 1  x1 ~~  x2 0.005 0.097 0.054  0.957   -0.186    0.196</span>
<span class="co">#&gt; 2  x3  ~  x1 0.537 0.097 5.551  0.000    0.348    0.727</span>
<span class="co">#&gt; 3  x3  ~  x2 0.376 0.093 4.050  0.000    0.194    0.557</span>
<span class="co">#&gt; 4  x4  ~  x1 0.111 0.127 0.875  0.382   -0.138    0.361</span>
<span class="co">#&gt; 5  x4  ~  x3 0.629 0.108 5.801  0.000    0.416    0.841</span>
<span class="co">#&gt; 6  x3 ~~  x3 0.874 0.124 7.071  0.000    0.632    1.117</span>
<span class="co">#&gt; 7  x4 ~~  x4 1.194 0.169 7.071  0.000    0.863    1.525</span>
<span class="co">#&gt; 8  x1 ~~  x1 0.933 0.132 7.071  0.000    0.674    1.192</span>
<span class="co">#&gt; 9  x2 ~~  x2 1.017 0.144 7.071  0.000    0.735    1.298</span></pre></body></html></div>
<p>We can see that the arrow from <code>x1</code> to <code>x4</code> has <code>x1</code> on the left hand side and <code>x4</code> on the right hand side. Therefore, <code>from</code> should be set to <code>x1</code> and <code>to</code> should be set to <code>x4</code>. For single-headed arrows, this step is not necessary. However, for double-headed arrows, we need to check the <code>lavaan</code> table to see which variable is on the left and which is on the right.</p>
<p>We then use <code>set_edge_label_position</code> to post-process the <code>semPaths</code> output. The first argument, <code>semPaths_plot</code>, is the <code>semPaths</code> output. The second argument, <code>position_list</code>, is the list to specify the new position of the selected arrows.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semptools</span>)
<span class="no">my_position_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x3"</span>, <span class="kw">new_position</span> <span class="kw">=</span>  <span class="fl">.25</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x2"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x3"</span>, <span class="kw">new_position</span> <span class="kw">=</span>  <span class="fl">.25</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x4"</span>, <span class="kw">new_position</span> <span class="kw">=</span>  <span class="fl">.75</span>))
<span class="no">p_pa2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/set_edge_label_position.html">set_edge_label_position</a></span>(<span class="no">p_pa</span>, <span class="no">my_position_list</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa2</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-20-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div id="using-pipe-operator" class="section level1">
<h1 class="hasAnchor">
<a href="#using-pipe-operator" class="anchor"></a>Using pipe-operator</h1>
<p>All the functions support the <code><a href="https://rdrr.io/pkg/magrittr/man/pipe.html">%&gt;%</a></code> operator from <code>magrittr</code>. Therefore, we can chain the post-processing.</p>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lavaan</span>)
<span class="no">mod_pa</span> <span class="kw">&lt;-</span>
 <span class="st">'x1 ~~ x2
  x3 ~  x1 + x2
  x4 ~  x1 + x3
 '</span>
<span class="no">fit_pa</span> <span class="kw">&lt;-</span> <span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html">sem</a></span>(<span class="no">mod_pa</span>, <span class="no">pa_example</span>)</pre></body></html></div>
<p>We will do this:</p>
<ul>
<li><p>Change the curvature of <code>x1 ~~ x2</code></p></li>
<li><p>Rotate the residuals of <code>x1</code>, <code>x2</code>, <code>x3</code>, and <code>x4</code>,</p></li>
<li><p>Add asterisks to denote significant test results</p></li>
<li><p>Add standard errors</p></li>
<li><p>Move the parameter estimate of the <code>x4 ~ x1</code> path closer to <code>x4</code>.</p></li>
</ul>
<div class="sourceCode" id="cb22"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semPlot</span>)
<span class="no">m</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x1"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>,
                <span class="fl">NA</span>, <span class="st">"x3"</span>,  <span class="fl">NA</span>, <span class="st">"x4"</span>,
              <span class="st">"x2"</span>,   <span class="fl">NA</span>,  <span class="fl">NA</span>,   <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">4</span>)
<span class="no">p_pa</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPaths</a></span>(<span class="no">fit_pa</span>, <span class="kw">whatLabels</span> <span class="kw">=</span> <span class="st">"est"</span>,
           <span class="kw">sizeMan</span> <span class="kw">=</span> <span class="fl">10</span>,
           <span class="kw">edge.label.cex</span> <span class="kw">=</span> <span class="fl">1.15</span>,
           <span class="kw">style</span> <span class="kw">=</span> <span class="st">"ram"</span>,
           <span class="kw">nCharNodes</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">nCharEdges</span> <span class="kw">=</span> <span class="fl">0</span>,
           <span class="kw">layout</span> <span class="kw">=</span> <span class="no">m</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-22-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="no">my_position_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x4"</span>, <span class="kw">new_position</span> <span class="kw">=</span>  <span class="fl">.75</span>))
<span class="no">my_curve_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x2"</span>, <span class="kw">new_curve</span> <span class="kw">=</span> -<span class="fl">2</span>))
<span class="no">my_rotate_resid_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">rotate</span> <span class="kw">=</span>   <span class="fl">0</span>),
                             <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"x2"</span>, <span class="kw">rotate</span> <span class="kw">=</span> <span class="fl">180</span>),
                             <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"x3"</span>, <span class="kw">rotate</span> <span class="kw">=</span> <span class="fl">140</span>),
                             <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"x4"</span>, <span class="kw">rotate</span> <span class="kw">=</span> <span class="fl">140</span>))
<span class="no">my_position_list</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"x1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"x4"</span>, <span class="kw">new_position</span> <span class="kw">=</span>  <span class="fl">.65</span>))

<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">magrittr</span>)
<span class="no">p_pa2</span> <span class="kw">&lt;-</span> <span class="no">p_pa</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="../reference/set_curve.html">set_curve</a></span>(<span class="no">my_curve_list</span>) <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="../reference/rotate_resid.html">rotate_resid</a></span>(<span class="no">my_rotate_resid_list</span>) <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span>(<span class="no">fit_pa</span>) <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="../reference/mark_se.html">mark_se</a></span>(<span class="no">fit_pa</span>, <span class="kw">sep</span> <span class="kw">=</span> <span class="st">"\n"</span>) <span class="kw">%&gt;%</span>
                  <span class="fu"><a href="../reference/set_edge_label_position.html">set_edge_label_position</a></span>(<span class="no">my_position_list</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p_pa2</span>)</pre></body></html></div>
<p><img src="quick_start_files/figure-html/unnamed-chunk-22-2.png" width="576" style="display: block; margin: auto;"></p>
<p>Note that the package <code>magrittr</code> needed to be loaded first.</p>
<p>For most of the functions, the necessary argument beside the <code>semPaths</code> object, if any, if the second element. Therefore, they can be included as unnamed arguments. For the third and other optional arguments, such as <code>sep</code> for <code>mark_se</code>, it is better to name them.</p>
</div>
<div id="limitations" class="section level1">
<h1 class="hasAnchor">
<a href="#limitations" class="anchor"></a>Limitations</h1>
<ul>
<li>Currently, if a function needs the SEM output, only lavaan output is supported.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Shu Fai Cheung, Mark Hok Chio Lai.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
