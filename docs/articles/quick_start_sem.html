<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A quick start guide on using set_sem_layout • semptools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A quick start guide on using set_sem_layout">
<meta property="og:description" content="semptools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">semptools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/quick_start.html">A quick start guide on using semptools</a>
    </li>
    <li>
      <a href="../articles/quick_start_cfa.html">A quick start guide on using set_cfa_layout</a>
    </li>
    <li>
      <a href="../articles/quick_start_sem.html">A quick start guide on using set_sem_layout</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/sfcheung/semptools/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A quick start guide on using set_sem_layout</h1>
                        <h4 class="author">Shu Fai Cheung &amp; Mark Hok Chio Lai</h4>
            
            <h4 class="date">2020-04-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/sfcheung/semptools/blob/master/vignettes/quick_start_sem.Rmd"><code>vignettes/quick_start_sem.Rmd</code></a></small>
      <div class="hidden name"><code>quick_start_sem.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>The semptools package contains functions that <em>post-process</em> an output from <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPlot::semPaths</a></code>, to help users to customize the appearance of the graphs generated by <code><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPlot::semPaths</a></code>. For the introduction to functions for doing very specific tasks, such as moving the parameter estimate of a path or rotating the residual of a variable, please refer to <a href="quick_start.html">Quick Start Guide</a>. The present guide focuses on how to use <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> to configure various aspects of an <code>semPaths</code> graph generated for a typical structural equation model (SEM) with latent factors. For configuring the layout of a confirmatory factor analysis (CFA) model with no structural path between factors, please refer to the <a href="quick_start_cfa.html">guide for set_cfa_layout</a>.</p>
</div>
<div id="an-sempaths-graph-of-an-sem-model-with-minimal-configurations" class="section level1">
<h1 class="hasAnchor">
<a href="#an-sempaths-graph-of-an-sem-model-with-minimal-configurations" class="anchor"></a>An semPaths graph of an SEM model with minimal configurations</h1>
<p>Let us consider an SEM model. We will use <code>sem_example</code>, a sample CFA dataset from semptools with 14 variables for illustration.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semptools</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="no">sem_example</span>)
<span class="co">#&gt;           x01         x02        x03        x04         x05        x06</span>
<span class="co">#&gt; 1  2.86146169  2.28888390  3.3807647  0.1914158  0.09478457 -0.3948427</span>
<span class="co">#&gt; 2 -0.24586145 -1.29859811 -0.3707382  2.2322465 -0.41895325 -0.5646819</span>
<span class="co">#&gt; 3  0.07918257  0.06674484  0.3227760 -3.0431693 -1.09335308 -0.6259012</span>
<span class="co">#&gt; 4  0.22699200 -1.27510157  0.3342744 -0.4921044 -1.52885336 -1.9414032</span>
<span class="co">#&gt; 5  0.19182285  0.20956862  0.7944837  1.0895856 -0.07406821  5.2554002</span>
<span class="co">#&gt; 6 -1.43035488  0.41510263  0.4760080 -0.1709750  0.70178380  0.7451309</span>
<span class="co">#&gt;           x07        x08       x09        x10       x11       x12        x13</span>
<span class="co">#&gt; 1 -0.06024712  1.3197511  2.806842  2.3301048  2.069026 0.5688317 -0.8075850</span>
<span class="co">#&gt; 2 -0.16187846  3.0500792  1.512515  1.7774682  2.990709 2.1249459  0.7668982</span>
<span class="co">#&gt; 3 -1.96064764 -4.9081647 -2.048014 -3.1902261  1.402752 1.8877131  1.3558491</span>
<span class="co">#&gt; 4  0.98894776  0.1891661 -1.646499 -1.7087066 -0.216526 0.9113144 -0.1102584</span>
<span class="co">#&gt; 5  2.14235171 -0.6229851  1.234496 -0.2952321  2.808985 2.8675174 -0.1240154</span>
<span class="co">#&gt; 6 -0.87651786  1.4306765  1.110917  0.7991827 -1.020746 0.3306105  1.3434707</span>
<span class="co">#&gt;         x14</span>
<span class="co">#&gt; 1  1.988641</span>
<span class="co">#&gt; 2  1.539397</span>
<span class="co">#&gt; 3  1.106808</span>
<span class="co">#&gt; 4 -0.666670</span>
<span class="co">#&gt; 5  2.442253</span>
<span class="co">#&gt; 6 -1.448420</span></pre></body></html></div>
<p>This is the SEM model to be fitted:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">mod</span> <span class="kw">&lt;-</span>
  <span class="st">'f1 =~ x01 + x02 + x03
   f2 =~ x04 + x05 + x06 + x07
   f3 =~ x08 + x09 + x10
   f4 =~ x11 + x12 + x13 + x14
   f3 ~  f1 + f2
   f4 ~  f1 + f3
  '</span></pre></body></html></div>
<p>The lavaan results:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lavaan</span>)
<span class="co">#&gt; This is lavaan 0.6-5</span>
<span class="co">#&gt; lavaan is BETA software! Please report any bugs.</span>
<span class="no">fit</span> <span class="kw">&lt;-</span> <span class="kw pkg">lavaan</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/sem.html">sem</a></span>(<span class="no">mod</span>, <span class="no">cfa_example</span>)
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">fit</span>)
<span class="co">#&gt; lavaan 0.6-5 ended normally after 39 iterations</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Estimator                                         ML</span>
<span class="co">#&gt;   Optimization method                           NLMINB</span>
<span class="co">#&gt;   Number of free parameters                         33</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Number of observations                           200</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt; Model Test User Model:</span>
<span class="co">#&gt;                                                       </span>
<span class="co">#&gt;   Test statistic                               112.948</span>
<span class="co">#&gt;   Degrees of freedom                                72</span>
<span class="co">#&gt;   P-value (Chi-square)                           0.001</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Parameter Estimates:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Information                                 Expected</span>
<span class="co">#&gt;   Information saturated (h1) model          Structured</span>
<span class="co">#&gt;   Standard errors                             Standard</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Latent Variables:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   f1 =~                                               </span>
<span class="co">#&gt;     x01               1.000                           </span>
<span class="co">#&gt;     x02               1.093    0.136    8.024    0.000</span>
<span class="co">#&gt;     x03               1.245    0.154    8.090    0.000</span>
<span class="co">#&gt;   f2 =~                                               </span>
<span class="co">#&gt;     x04               1.000                           </span>
<span class="co">#&gt;     x05              -0.041    0.076   -0.538    0.591</span>
<span class="co">#&gt;     x06               1.090    0.143    7.632    0.000</span>
<span class="co">#&gt;     x07               0.824    0.109    7.557    0.000</span>
<span class="co">#&gt;   f3 =~                                               </span>
<span class="co">#&gt;     x08               1.000                           </span>
<span class="co">#&gt;     x09               0.938    0.149    6.315    0.000</span>
<span class="co">#&gt;     x10               1.779    0.259    6.857    0.000</span>
<span class="co">#&gt;   f4 =~                                               </span>
<span class="co">#&gt;     x11               1.000                           </span>
<span class="co">#&gt;     x12               0.899    0.134    6.700    0.000</span>
<span class="co">#&gt;     x13              -0.108    0.085   -1.270    0.204</span>
<span class="co">#&gt;     x14               1.299    0.196    6.624    0.000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Regressions:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   f3 ~                                                </span>
<span class="co">#&gt;     f1                0.443    0.095    4.687    0.000</span>
<span class="co">#&gt;     f2               -0.045    0.062   -0.731    0.464</span>
<span class="co">#&gt;   f4 ~                                                </span>
<span class="co">#&gt;     f1               -0.093    0.120   -0.773    0.439</span>
<span class="co">#&gt;     f3               -0.262    0.147   -1.788    0.074</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Covariances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;   f1 ~~                                               </span>
<span class="co">#&gt;     f2               -0.186    0.091   -2.036    0.042</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Variances:</span>
<span class="co">#&gt;                    Estimate  Std.Err  z-value  P(&gt;|z|)</span>
<span class="co">#&gt;    .x01               0.967    0.129    7.509    0.000</span>
<span class="co">#&gt;    .x02               0.857    0.130    6.581    0.000</span>
<span class="co">#&gt;    .x03               0.978    0.159    6.137    0.000</span>
<span class="co">#&gt;    .x04               0.760    0.142    5.365    0.000</span>
<span class="co">#&gt;    .x05               0.954    0.095    9.994    0.000</span>
<span class="co">#&gt;    .x06               1.222    0.188    6.510    0.000</span>
<span class="co">#&gt;    .x07               0.832    0.117    7.136    0.000</span>
<span class="co">#&gt;    .x08               1.025    0.125    8.232    0.000</span>
<span class="co">#&gt;    .x09               1.117    0.129    8.657    0.000</span>
<span class="co">#&gt;    .x10               0.577    0.215    2.685    0.007</span>
<span class="co">#&gt;    .x11               1.271    0.173    7.330    0.000</span>
<span class="co">#&gt;    .x12               1.151    0.150    7.683    0.000</span>
<span class="co">#&gt;    .x13               0.986    0.099    9.968    0.000</span>
<span class="co">#&gt;    .x14               0.783    0.210    3.726    0.000</span>
<span class="co">#&gt;     f1                0.857    0.176    4.857    0.000</span>
<span class="co">#&gt;     f2                1.085    0.206    5.259    0.000</span>
<span class="co">#&gt;    .f3                0.408    0.102    3.998    0.000</span>
<span class="co">#&gt;    .f4                0.837    0.198    4.233    0.000</span></pre></body></html></div>
<p>This is the plot from <code>semPaths</code>:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">semPlot</span>)
<span class="co">#&gt; Registered S3 methods overwritten by 'huge':</span>
<span class="co">#&gt;   method    from   </span>
<span class="co">#&gt;   plot.sim  BDgraph</span>
<span class="co">#&gt;   print.sim BDgraph</span>
<span class="no">p</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/semPlot/man/semPaths.html">semPaths</a></span>(<span class="no">fit</span>, <span class="kw">whatLabels</span><span class="kw">=</span><span class="st">"est"</span>,
        <span class="kw">sizeMan</span> <span class="kw">=</span> <span class="fl">5</span>,
        <span class="kw">node.width</span> <span class="kw">=</span> <span class="fl">1</span>,
        <span class="kw">edge.label.cex</span> <span class="kw">=</span> <span class="fl">.75</span>,
        <span class="kw">style</span> <span class="kw">=</span> <span class="st">"ram"</span>,
        <span class="kw">mar</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">5</span>))</pre></body></html></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-5-1.png" width="768" style="display: block; margin: auto;"></p>
<p>We will see how <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> can be used to do the following tasks to <em>post-process</em> the graph:</p>
<ul>
<li><p>Change the order of the indicators.</p></li>
<li><p>Assign factors to indicators manually.</p></li>
<li><p>Specify how to set the approximate positions of the factors.</p></li>
<li><p>Specify how to place the indicators of a factor.</p></li>
<li><p>Adjust the placement of the indicators relative to their corresponding factors.</p></li>
<li><p>Move the loadings along the paths from factors to indicators.</p></li>
</ul>
</div>
<div id="specify-the-order-of-the-indicators-assigne-them-to-factors-and-specify-the-approximate-positions-of-the-factors" class="section level1">
<h1 class="hasAnchor">
<a href="#specify-the-order-of-the-indicators-assigne-them-to-factors-and-specify-the-approximate-positions-of-the-factors" class="anchor"></a>Specify the order of the indicators, assigne them to factors, and specify the approximate positions of the factors</h1>
<p>Suppose we want to do this:</p>
<ul>
<li>
<p>We would like to assign the indicators to the factors this way:</p>
<ul>
<li><p>x04, x05, x06, and x07 for f2.</p></li>
<li><p>x01, x02, and x03 for f1.</p></li>
<li><p>x11, x12, x13, and x14 for f4.</p></li>
<li><p>x08, x09, and x10 for f3.</p></li>
</ul>
</li>
</ul>
<p>To do this, we create two vectors, one for the argument <code>indicator_order</code> and the other for the argument <code>indicator_factor</code>.</p>
<ul>
<li>
<code>indicator_order</code> is a string vector with length equal to the number of indicators, with the desired order if the indicators are placed <em>above</em> the corresponding factors. In this example, it will be like this:</li>
</ul>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">indicator_order</span>  <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x04"</span>, <span class="st">"x05"</span>, <span class="st">"x06"</span>, <span class="st">"x07"</span>,
                      <span class="st">"x01"</span>, <span class="st">"x02"</span>, <span class="st">"x03"</span>,
                      <span class="st">"x11"</span>, <span class="st">"x12"</span>, <span class="st">"x13"</span>, <span class="st">"x14"</span>,
                      <span class="st">"x08"</span>, <span class="st">"x09"</span>, <span class="st">"x10"</span>)</pre></body></html></div>
<ul>
<li>
<code>indicator_factor</code> is a string vector with length equal to the number of indicators. The elements are the names of the latent factors, denoting which factor each indicator will be assigned to:</li>
</ul>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">indicator_factor</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>( <span class="st">"f2"</span>,  <span class="st">"f2"</span>,  <span class="st">"f2"</span>,  <span class="st">"f2"</span>,
                       <span class="st">"f1"</span>,  <span class="st">"f1"</span>,  <span class="st">"f1"</span>,
                       <span class="st">"f4"</span>,  <span class="st">"f4"</span>,  <span class="st">"f4"</span>,  <span class="st">"f4"</span>,
                       <span class="st">"f3"</span>,  <span class="st">"f3"</span>,  <span class="st">"f3"</span>)</pre></body></html></div>
<p>To specify the locations of the factors, we need two more arguments, <code>factor_layout</code> and <code>factor_point_to</code>.</p>
<p><code>factor_layout</code> is a matrix of arbitrary size, with either <code>NA</code> or the name of a factor. For example:</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">factor_layout</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"f1"</span>,   <span class="fl">NA</span>,   <span class="fl">NA</span>,
                           <span class="fl">NA</span>, <span class="st">"f3"</span>, <span class="st">"f4"</span>,
                         <span class="st">"f2"</span>,   <span class="fl">NA</span>,   <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">3</span>)</pre></body></html></div>
<p>This sets up a 3-by-3 grid, with <code>f1</code> on the top left, <code>f2</code> on the bottom left, <code>f3</code> in the center, and <code>f4</code> on the right of <code>f3</code>. Each factor must be in one and only one cell of this matrix.</p>
<p>Note that a column or row can contain only <code>NA</code>, to increase the vertical or horizontal distance between factors.</p>
<p><code>factor_point_to</code> is a matrix of the size as <code>factor_layout</code>, with either <code>NA</code> or one of these: “down”, “left”, “up”, or “right”, to indicate the direction that a factor “points to” its indicator. For example:</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">factor_point_to</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"left"</span>,     <span class="fl">NA</span>,      <span class="fl">NA</span>,
                                <span class="fl">NA</span>, <span class="st">"down"</span>, <span class="st">"down"</span>,
                            <span class="st">"left"</span>,     <span class="fl">NA</span>,      <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">3</span>)</pre></body></html></div>
<p><code>f1</code> and <code>f2</code> will point to the left (i.e., indicators on the left), <code>f3</code> and <code>f4</code> will point downwards.</p>
<p>In sum, the <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> function needs at least four arguments:</p>
<ul>
<li><p><code>semPaths_plot</code>: The <code>semPaths</code> plot.</p></li>
<li><p><code>indicator_order</code>: The vector for the order of indicators.</p></li>
<li><p><code>indicator_factor</code>: The vector for assigning indicators to latent factors.</p></li>
<li><p><code>factor_layout</code>: The position of the factors on a grid.</p></li>
<li><p><code>factor_point_to</code>: The placement of the indicators.</p></li>
</ul>
<p>They do not have to be named if they are in this order.</p>
<p>We now use <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> to post-process the graph:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">p2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span>(<span class="no">p</span>,
                     <span class="kw">indicator_order</span> <span class="kw">=</span> <span class="no">indicator_order</span>,
                     <span class="kw">indicator_factor</span> <span class="kw">=</span> <span class="no">indicator_factor</span>,
                     <span class="kw">factor_layout</span> <span class="kw">=</span> <span class="no">factor_layout</span>,
                     <span class="kw">factor_point_to</span> <span class="kw">=</span> <span class="no">factor_point_to</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p2</span>)</pre></body></html></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-10-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="adjust-the-placement-of-the-indicators-relative-to-their-corresponding-factors-" class="section level1">
<h1 class="hasAnchor">
<a href="#adjust-the-placement-of-the-indicators-relative-to-their-corresponding-factors-" class="anchor"></a>Adjust the placement of the indicators relative to their corresponding factors.</h1>
<p>The placement of the indicators are too close to the indicators and to neighbouring indicators. We can adjust the relative position in two ways.</p>
<div id="pushing-the-indicators-away-from-their-assigned-factors" class="section level2">
<h2 class="hasAnchor">
<a href="#pushing-the-indicators-away-from-their-assigned-factors" class="anchor"></a>“Pushing” the indicators away from their assigned factors</h2>
<p>We can use the argument <code>indicator_push</code> to push the indicators of a factor away from it. The argument needs a list of lists. In each sublist, there should be two named elements: <code>node</code>: the name of a factor; <code>push</code>: the multiplier to the distance from the factor to the indicators. For example:</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">indicator_push</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f3"</span>, <span class="kw">push</span> <span class="kw">=</span>   <span class="fl">2</span>),
                       <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f4"</span>, <span class="kw">push</span> <span class="kw">=</span> <span class="fl">1.5</span>),
                       <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f1"</span>, <span class="kw">push</span> <span class="kw">=</span> <span class="fl">1.5</span>),
                       <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f2"</span>, <span class="kw">push</span> <span class="kw">=</span> <span class="fl">1.5</span>))</pre></body></html></div>
<p>This list will double the distance between the indicators of <code>f3</code> and their factors, and multiply the distance between the indicators of <code>f4</code>, <code>f1</code>, and <code>f2</code> and their factors by 1.5. If <code>push</code> is less than 1, the indicators will be “pulled” towards their factors.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">p2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span>(<span class="no">p</span>,
                     <span class="kw">indicator_order</span> <span class="kw">=</span> <span class="no">indicator_order</span>,
                     <span class="kw">indicator_factor</span> <span class="kw">=</span> <span class="no">indicator_factor</span>,
                     <span class="kw">factor_layout</span> <span class="kw">=</span> <span class="no">factor_layout</span>,
                     <span class="kw">factor_point_to</span> <span class="kw">=</span> <span class="no">factor_point_to</span>,
                     <span class="kw">indicator_push</span> <span class="kw">=</span> <span class="no">indicator_push</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p2</span>)</pre></body></html></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-12-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="spreading-out-the-indicators" class="section level2">
<h2 class="hasAnchor">
<a href="#spreading-out-the-indicators" class="anchor"></a>“Spreading” out the indicators</h2>
<p>We can use the argument <code>indicator_spread</code> to spread out the indicators of a factor, increasing the distance between the indicators. The argument needs a list of lists. In each sublist, there should be two named elements: <code>node</code>: the name of a factor; <code>spread</code>: the multiplier to the distance between neighbouring indicators. For example:</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">indicator_spread</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f1"</span>, <span class="kw">spread</span> <span class="kw">=</span>    <span class="fl">2</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f2"</span>, <span class="kw">spread</span> <span class="kw">=</span>  <span class="fl">1.5</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f4"</span>, <span class="kw">spread</span> <span class="kw">=</span>  <span class="fl">1.5</span>))</pre></body></html></div>
<p>This list will double the distance between the indicators of <code>f1</code>, and multiply the distance between the indicators of <code>f2</code> and <code>f4</code>. and its indicators by 1.5. If <code>spread</code> is less than 1, the indicators will be squeezed towards each others.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="no">p2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span>(<span class="no">p</span>,
                     <span class="kw">indicator_order</span> <span class="kw">=</span> <span class="no">indicator_order</span>,
                     <span class="kw">indicator_factor</span> <span class="kw">=</span> <span class="no">indicator_factor</span>,
                     <span class="kw">factor_layout</span> <span class="kw">=</span> <span class="no">factor_layout</span>,
                     <span class="kw">factor_point_to</span> <span class="kw">=</span> <span class="no">factor_point_to</span>,
                     <span class="kw">indicator_push</span> <span class="kw">=</span> <span class="no">indicator_push</span>,
                     <span class="kw">indicator_spread</span> <span class="kw">=</span> <span class="no">indicator_spread</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p2</span>)</pre></body></html></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-14-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="move-the-loadings-along-the-paths-from-factors-to-indicators-" class="section level1">
<h1 class="hasAnchor">
<a href="#move-the-loadings-along-the-paths-from-factors-to-indicators-" class="anchor"></a>Move the loadings along the paths from factors to indicators.</h1>
<p>We can move the loadings of indicators along the paths by the argument <code>loading_position</code>. If we supply one single number, from 0 to 1, this number will be used for the position of all loadings. A value of .5 place the loadings on the middle of the paths. Larger the value, closer the loadings to the indicators. Smaller the value, closer the loadings to the factors.</p>
<p>We can also use a list of lists to specify the positions of indicators for each factor. The default is .50 and so we only need to specify the positions for factors to be changed. TIn each sublist, there should be two named elements: <code>node</code>: the name of a factor; <code>position</code>: the positions of the its loadings. For example:</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">loading_position</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f2"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="fl">.7</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f3"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="fl">.8</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f4"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="fl">.8</span>))</pre></body></html></div>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="no">p2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span>(<span class="no">p</span>,
                     <span class="kw">indicator_order</span> <span class="kw">=</span> <span class="no">indicator_order</span>,
                     <span class="kw">indicator_factor</span> <span class="kw">=</span> <span class="no">indicator_factor</span>,
                     <span class="kw">factor_layout</span> <span class="kw">=</span> <span class="no">factor_layout</span>,
                     <span class="kw">factor_point_to</span> <span class="kw">=</span> <span class="no">factor_point_to</span>,
                     <span class="kw">indicator_push</span> <span class="kw">=</span> <span class="no">indicator_push</span>,
                     <span class="kw">indicator_spread</span> <span class="kw">=</span> <span class="no">indicator_spread</span>,
                     <span class="kw">loading_position</span> <span class="kw">=</span> <span class="no">loading_position</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p2</span>)</pre></body></html></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-16-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="pipe" class="section level1">
<h1 class="hasAnchor">
<a href="#pipe" class="anchor"></a>Pipe</h1>
<p>Like other functions in <code>semptools</code>, the <code><a href="../reference/set_sem_layout.html">set_sem_layout()</a></code> function can be chained with other functions using the pipe operator, <code><a href="https://rdrr.io/pkg/magrittr/man/pipe.html">%&gt;%</a></code>, from the package <code>magrittr</code>. Suppose we want to mark the significant test results for the free parameters using <code><a href="../reference/mark_sig.html">mark_sig()</a></code>, and use <code><a href="../reference/set_curve.html">set_curve()</a></code> to change the curvature of <code>f1 ~~ f2</code> covariances and <code>f4 ~ f1</code> paths (we push and spread some indicators to make room for the asterisks, and change the orientation of <code>f4</code> to <code>up</code>):</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="no">factor_point_to</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"left"</span>,     <span class="fl">NA</span>,      <span class="fl">NA</span>,
                                <span class="fl">NA</span>, <span class="st">"down"</span>,    <span class="st">"up"</span>,
                            <span class="st">"left"</span>,     <span class="fl">NA</span>,      <span class="fl">NA</span>), <span class="kw">byrow</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="fl">3</span>, <span class="fl">3</span>)
<span class="no">indicator_push</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f3"</span>, <span class="kw">push</span> <span class="kw">=</span> <span class="fl">2.5</span>),
                       <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f4"</span>, <span class="kw">push</span> <span class="kw">=</span> <span class="fl">2.5</span>),
                       <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f1"</span>, <span class="kw">push</span> <span class="kw">=</span> <span class="fl">1.5</span>),
                       <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f2"</span>, <span class="kw">push</span> <span class="kw">=</span> <span class="fl">1.5</span>))
<span class="no">indicator_spread</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f1"</span>, <span class="kw">spread</span> <span class="kw">=</span>    <span class="fl">2</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f2"</span>, <span class="kw">spread</span> <span class="kw">=</span>    <span class="fl">2</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f4"</span>, <span class="kw">spread</span> <span class="kw">=</span>    <span class="fl">2</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f3"</span>, <span class="kw">spread</span> <span class="kw">=</span> <span class="fl">1.75</span>))
<span class="no">loading_position</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f2"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="fl">.6</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f3"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="fl">.8</span>),
                         <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">node</span> <span class="kw">=</span> <span class="st">"f4"</span>, <span class="kw">position</span> <span class="kw">=</span> <span class="fl">.8</span>))
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">magrittr</span>)
<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/set_sem_layout.html">set_sem_layout</a></span>(<span class="no">p</span>,
                     <span class="kw">indicator_order</span> <span class="kw">=</span> <span class="no">indicator_order</span>,
                     <span class="kw">indicator_factor</span> <span class="kw">=</span> <span class="no">indicator_factor</span>,
                     <span class="kw">factor_layout</span> <span class="kw">=</span> <span class="no">factor_layout</span>,
                     <span class="kw">factor_point_to</span> <span class="kw">=</span> <span class="no">factor_point_to</span>,
                     <span class="kw">indicator_push</span> <span class="kw">=</span> <span class="no">indicator_push</span>,
                     <span class="kw">indicator_spread</span> <span class="kw">=</span> <span class="no">indicator_spread</span>,
                     <span class="kw">loading_position</span> <span class="kw">=</span> <span class="no">loading_position</span>) <span class="kw">%&gt;%</span>
                     <span class="fu"><a href="../reference/set_curve.html">set_curve</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
                        <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"f1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"f2"</span>, <span class="kw">new_curve</span> <span class="kw">=</span>  -<span class="fl">1</span>),
                        <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="st">"f1"</span>, <span class="kw">to</span> <span class="kw">=</span> <span class="st">"f4"</span>, <span class="kw">new_curve</span> <span class="kw">=</span> <span class="fl">1.5</span>))) <span class="kw">%&gt;%</span>
                     <span class="fu"><a href="../reference/mark_sig.html">mark_sig</a></span>(<span class="no">fit</span>)
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span>(<span class="no">p2</span>)</pre></body></html></div>
<p><img src="quick_start_sem_files/figure-html/unnamed-chunk-17-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="limitations" class="section level1">
<h1 class="hasAnchor">
<a href="#limitations" class="anchor"></a>Limitations</h1>
<ul>
<li>Currently, if a function needs the SEM output, only lavaan output is supported.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Shu Fai Cheung, Mark Hok Chio Lai.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
